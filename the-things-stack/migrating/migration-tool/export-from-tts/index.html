<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.112.3">
  <title>Export Devices from The Things Stack | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migration-tool/export-from-tts/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.a66756cfe43ecf9e9bdf4eda3f7a6599499c94b1de904093e2d076c04af16f4b.css" integrity="sha256-pmdWz&#43;Q&#43;z56b307aP3plmUmclLHekECT4tB2wErxb0s=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Export Devices from The Things Stack">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Export Devices from The Things Stack">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migration-tool/export-from-tts/">
  <meta name="twitter:title" content="Export Devices from The Things Stack" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>


</head>


<body>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.25.2</p>
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/the-things-stack/">The Things Stack</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">The Things Stack</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/the-things-stack/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/concepts/" class="">Basic Concepts</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/cloud/" class="">The Things Stack Cloud</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/host/" class="">Host The Things Stack</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/interact/" class="">Interact with The Things Stack</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/management/" class="">Manage The Things Stack</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/" class="">Migrate to The Things Stack</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migrating-between-tts-distributions/" class="">Migrating End Devices between The Things Stack distributions</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migration-tool/" class="">Migration Tool</a>
    
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migration-tool/export-from-tts/" class="is-active">Export Devices from The Things Stack</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migration-tool/export-from-chirpstack/" class="">Export End Devices from ChirpStack</a>
    
  </li>

</ul>


    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migrating-from-v2/" class="">Migrating End Devices from V2</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/import-devices/" class="">Import End Devices in The Things Stack</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/configure-mac-settings/" class="">Fine-tuning MAC Settings for End Devices</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/gateway-migration/" class="">Migrating Gateways</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/device-json/" class="">JSON File Reference</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/device-csv/" class="">CSV File Reference</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/faq/" class="">Migration FAQ</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/packet-broker/" class="">Packet Broker</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/the-things-stack/troubleshooting/" class="">Troubleshooting</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Export Devices from The Things Stack
          
        </h1>
        
        <div class="content">
          <p>This section explains how to configure the migration tool and use it to export end devices from The Things Stack, that can later be imported in other The Things Stack deployments. This is a base for migrating end devices between The Things Stack distributions.</p>
<h2 id="configuration">Configuration</h2>
<p>First, configure the migration tool with environment variables or command-line arguments, like shown below. See <code>--help</code> for more details.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTNV3_APP_ID</span><span class="o">=</span><span class="s2">&#34;my-tts-app&#34;</span>                                                  <span class="c1"># TTS App ID</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTNV3_APP_API_KEY</span><span class="o">=</span><span class="s2">&#34;NNSXS.U...&#34;</span>                                             <span class="c1"># TTS App API Key (needs `device` permissions)</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTNV3_APPLICATION_SERVER_GRPC_ADDRESS</span><span class="o">=</span><span class="s2">&#34;eu1.cloud.thethings.network:8884&#34;</span>   <span class="c1"># TTS Application Server URL Address</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTNV3_IDENTITY_SERVER_GRPC_ADDRESS</span><span class="o">=</span><span class="s2">&#34;eu1.cloud.thethings.network:8884&#34;</span>      <span class="c1"># TTS Identity Server URL Address</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTNV3_JOIN_SERVER_GRPC_ADDRESS</span><span class="o">=</span><span class="s2">&#34;eu1.cloud.thethings.network:8884&#34;</span>          <span class="c1"># TTS Join Server URL Address</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTNV3_NETWORK_SERVER_GRPC_ADDRESS</span><span class="o">=</span><span class="s2">&#34;eu1.cloud.thethings.network:8884&#34;</span>       <span class="c1"># TTS Network Server URL Address</span>
</span></span></code></pre></div><p>If using Windows OS, replace <code>export</code> with <code>set</code> and remove the double-quotes in commands above. For example, you would use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">set</span> <span class="nv">TTNV3_APP_ID</span><span class="o">=</span>my-tts-app
</span></span></code></pre></div><div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  The export process will halt if any error occurs. Execute commands with the <code>--dry-run</code> flag to verify whether the outcome will be as expected.
</div>

<p>You can now proceed to exporting devices or applications.</p>
<h2 id="export-devices-and-applications">Export Devices and Applications</h2>
<div class="tabs is-boxed">
  <ul>
    
    <li data-tab="export-devices">
      <a>
        <span>Export devices</span>
      </a>
    </li>
    
    <li data-tab="export-applications">
      <a>
        <span>Export applications</span>
      </a>
    </li>
    
  </ul>
</div>
<div class="tab-content content">
  <section data-content="export-devices">
  <p>To export a single device using it&rsquo;s <strong>End Device ID</strong> (e.g. <code>my-device</code>):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># dry run first, verify that no errors occur</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate device --source ttnv3 <span class="s1">&#39;my-device&#39;</span> --dry-run --verbose &gt; devices.json
</span></span><span class="line"><span class="cl"><span class="c1"># export device</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate device --source ttnv3 <span class="s1">&#39;my-device&#39;</span> &gt; devices.json
</span></span></code></pre></div><p>In order to export a large number of devices, create a file named <code>device_ids.txt</code> with one device ID per line:</p>
<pre tabindex="0"><code>my-device-1
my-device-2
my-device-3
</code></pre><p>And then export with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># dry run first, verify that no errors occur</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate devices --source ttnv3 --dry-run --verbose &lt; device_ids.txt &gt; devices.json
</span></span><span class="line"><span class="cl"><span class="c1"># export devices</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate devices --source ttnv3 &lt; device_ids.txt &gt; devices.json
</span></span></code></pre></div>
</section>
<section data-content="export-applications">
  <p>To export all devices of an application using its <strong>Application ID</strong> (e.g. <code>my-app-id</code>):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># dry run first, verify that no errors occur</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate application --source ttnv3 <span class="s1">&#39;my-app-id&#39;</span> --dry-run --verbose &gt; devices.json
</span></span><span class="line"><span class="cl"><span class="c1"># export application</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate application --source ttnv3 <span class="s1">&#39;my-app-id&#39;</span> &gt; devices.json
</span></span></code></pre></div><p>In order to export multiple applications, create a file named <code>application_names.txt</code> with one application ID per line:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">my-app-id-1
</span></span><span class="line"><span class="cl">my-app-id-2
</span></span><span class="line"><span class="cl">my-app-id-3
</span></span></code></pre></div><p>And then export with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># dry run first, verify that no errors occur</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate devices --source ttnv3 --dry-run --verbose &lt; application_names.txt &gt; devices.json
</span></span><span class="line"><span class="cl"><span class="c1"># export applications</span>
</span></span><span class="line"><span class="cl">ttn-lw-migrate devices --source ttnv3 &lt; application_names.txt &gt; devices.json
</span></span></code></pre></div>
</section>

</div>

<h2 id="advanced-setup">Advanced setup</h2>
<p>If you are using a custom CA, you can provide a path to it by with an environment variable or by using <code>--ttnv3.ca-file</code> flag.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTNV3_CA_FILE</span><span class="o">=</span><span class="s2">&#34;/path/to/ca.file&#34;</span>   <span class="c1"># Path to a CA file (optional)</span>
</span></span></code></pre></div><hr>
<p>After exporting, devices and applications can be imported in other The Things Stack deployments. See <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/import-devices/">Import End Devices in The Things Stack</a> for details about importing devices. See <a href="https://www.thethingsindustries.com/docs/the-things-stack/migrating/migrating-between-tts-distributions/">Migrating End Devices between The Things Stack Distributions</a> to wrap up the whole process of migration between The Things Stack distributions.</p>
        </div>
        <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/the-things-stack/migrating/migration-tool/">← Migration Tool</a>
<a class="button is-pulled-right" href="/docs/the-things-stack/migrating/migration-tool/export-from-chirpstack/">Export End Devices from ChirpStack →</a>
</div>

        <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#configuration'>Configuration</a></li>
    
      
      <li><a href='#export-devices-and-applications'>Export Devices and Applications</a></li>
    
      
      <li><a href='#advanced-setup'>Advanced setup</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/the-things-stack/">The Things Stack</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/ttn-network/v3/90">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Krishna Iyer on 19 Apr 2023.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/7b36a78abab91e6a6967b41f03b65551a89e54c9">
      Restructure documentation (#1076)
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/the-things-stack/migrating/migration-tool/export-from-tts.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.c601451bfe16c7a1f9f8a5874bf803042c24e8aaf36ffb7ab8f2f0b1fc2d6961.js" integrity="sha256-xgFFG/4Wx6H5&#43;KWHS/gDBCwk6Krzb/t6uPLwsfwtaWE=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
