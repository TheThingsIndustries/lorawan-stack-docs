<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.96.0" />
  <title>Configuring the CLI | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/getting-started/cli/configuring-cli/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.74b07de880ad60ffdf0f356535e15d45e05de3df7f1c738e63521f7d8d731e53.css" integrity="sha256-dLB96ICtYP/fDzVlNeFdReBd499/HHOOY1IffY1zHlM=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Configuring the CLI">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Configuring the CLI">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/getting-started/cli/configuring-cli/">
  <meta name="twitter:title" content="Configuring the CLI" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body><nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.20.1</p>
      </a><div class="navbar-item navbar-search-brand">
        <div class="field has-addons has-addons-centered">
          <div class="control">
            <input id="search-input-brand" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
          </div>
        </div>
      </div>
      
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a><div class="navbar-item navbar-search-menu">
            <div class="field has-addons has-addons-centered">
              <div class="control">
                <input id="search-input-menu" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
              </div>
            </div>
          </div></div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript">
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-brand',
      debug: false 
    });
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-menu',
      debug: false 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Getting Started</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/getting-started/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/quick-start/" class="">Quick Start</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/what-is-tts/" class="">What Is The Things Stack?</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/console/" class="">Console</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/cli/" class="">Command-line Interface</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/cli/installing-cli/" class="">Installing the CLI</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/cli/configuring-cli/" class="is-active">Configuring the CLI</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/cli/login/" class="">Login with the CLI</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/cli/troubleshooting/" class="">Troubleshooting CLI</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/installation/" class="">Installing The Things Stack</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/upgrading/" class="">Upgrading The Things Stack</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/migrating/" class="">Migrating to The Things Stack</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/cloud-hosted/" class="">The Things Stack Cloud</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/aws/" class="">The Things Stack AWS Launcher</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/ttn/" class="">The Things Network</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/server-addresses/" class="">Server Addresses</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/packet-broker/" class="">Packet Broker</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/sso/" class="">Single Sign-On</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/user-management/" class="">Users and Organizations</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/api/" class="">Using the API</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/events/" class="">Working with Events</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/getting-started/troubleshooting/" class="">Troubleshooting Getting Started</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Configuring the CLI
          
        </h1>
        
        <div class="content">
          <p>The Things Stack CLI needs to be configured to connect to your The Things Stack deployment. To configure the CLI, you first have to create a configuration file, then make that file available to the CLI.</p>
<p>The CLI configuration file can be generated or manually created.</p>
<h2 id="step-1---create-a-configuration-file">Step 1 - Create a configuration file</h2>
<h3 id="automatically-generate-configuration-file">Automatically generate configuration file</h3>
<p>To generate the CLI configuration file, use the following command in your terminal:</p>
<div class="tabs is-boxed">
  <ul>
    
    <li data-tab="cloud-community-edition-and-open-source">
      <a>
        <span>Cloud, Community Edition, and Open Source</span>
      </a>
    </li>
    
    <li data-tab="enterprise">
      <a>
        <span>Enterprise</span>
      </a>
    </li>
    
  </ul>
</div>
<div class="tab-content content">
  <section data-content="cloud-community-edition-and-open-source">
  <p>If using The Things Stack Community Edition, use the following command as per your regional <code>cluster</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli use &lt;eu1/au1/nam1&gt;.cloud.thethings.network
</span></span></code></pre></div><p>or on Windows, this would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli.exe use &lt;eu1/au1/nam1&gt;.cloud.thethings.network
</span></span></code></pre></div><p>If you are using The Things Stack Cloud use the following command with your <code>tenant id</code> and regional <code>cluster</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli use &lt;tenant_id&gt;.&lt;eu1/eu2/au1/nam1/&gt;.cloud.thethings.industries
</span></span></code></pre></div><p>If you are hosting your own deployment, use the following, replacing <code>thethings.example.com</code> with your <a href="https://www.thethingsindustries.com/docs/getting-started/server-addresses/">server address</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli use thethings.example.com
</span></span></code></pre></div>
</section>
<section data-content="enterprise">
  <p>If you are hosting your own deployment, use the following, replacing <code>thethings.example.com</code> with your <a href="https://www.thethingsindustries.com/docs/getting-started/server-addresses/">server address</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tti-lw-cli use thethings.example.com
</span></span></code></pre></div><p>or on Windows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tti-lw-cli.exe use thethings.example.com
</span></span></code></pre></div>
</section>

</div>

<p>This will generate the CLI configuration and save it to a file named <code>.ttn-lw-cli.yml</code>.</p>
<p>By default, the file is created in the current directory. Add the <code>--user</code> flag to save it under the user&rsquo;s <code>.config</code> directory. The last <code>INFO</code> line in response to running the command will contain the location of the generated file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">INFO	Config file <span class="k">for</span> eu1.cloud.thethings.network written in /home/user/.config/.ttn-lw-cli.yml
</span></span></code></pre></div><div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  The default configuration file for both <code>ttn-lw-cli</code> and <code>tti-lw-cli</code> CLI versions is named <code>.ttn-lw-cli.yml</code>.
</div>

<p>Once you have the configuration file, proceed to <a href="#step-2---configure-the-cli">Step 2 - Configure CLI</a> to pass the configuration file to the CLI.</p>
<h4 id="additional-flags-optional">Additional Flags (Optional)</h4>
<p>If the deployment is using a CA that is not already trusted by your system, use the <code>--fetch-ca</code> flag to also connect to the server and retrieve the CA required for establishing secure communication, i.e:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tti-lw-cli use thethings.example.com --fetch-ca
</span></span></code></pre></div><p>If you are using a <a href="https://www.thethingsindustries.com/docs/getting-started/installation/certificates/#custom-certificate-authority">custom certificate authority</a>, you will have to specify the path to the CA file with <code>--ca=&quot;/path/to/ca.pem&quot;</code> flag when running the CLI.</p>
<p>If the configuration file already exists and you run the command to generate it again, it will not be overwritten by default and an error will be printed instead. Use <code>--overwrite</code> to overwrite the existing configuration file.</p>
<p>You can also use the <code>--grpc-port</code> and <code>--oauth-server-address</code> flags to override the default values for the gRPC port and the OAuth server address. Note that these are not needed for standard deployments. An example of having to specify the <code>--oauth-server-address</code> is if you are using an <code>https</code> port other than <code>443</code>, for example if you are <a href="https://www.thethingsindustries.com/docs/getting-started/installation/configuration/#running-the-things-stack-as-localhost">running The Things Stack on localhost</a>. In case of running The Things Stack on localhost, you need to append <code>--oauth-server-address=&quot;https://localhost:8885/oauth</code> when running the CLI.</p>
<h3 id="manually-create-configuration-file">Manually create configuration file</h3>
<p>It is also possible to manually create a configuration file. For most configurations, this is not necessary, and it is preferable to <a href="#automatically-generate-configuration-file">automatically generate the configuration</a>. However, if you have separate component addresses, you can specify them in a manual configuration.</p>
<p>To manually configure, first create a <code>.ttn-lw-cli.yml</code> file.</p>
<p>Copy and paste the following contents in the <code>.ttn-lw-cli.yml</code> file, replacing <code>thethings.example.com</code> with the <a href="https://www.thethingsindustries.com/docs/getting-started/server-addresses/">server addresses</a> of each component:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">oauth-server-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;https://thethings.example.com/oauth&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">identity-server-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">gateway-server-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">network-server-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">application-server-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">join-server-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">device-claiming-server-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">device-template-converter-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">qr-code-generator-grpc-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;thethings.example.com:8884&#39;</span><span class="w">
</span></span></span></code></pre></div><p>If you are using an <code>https</code> port other than <code>443</code> (for example if running The Things Stack on localhost), you need to specify that port by adding the following line in <code>.ttn-lw-cli.yml</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">oauth-server-address</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;https://thethings.example.com:8885/oauth&#39;</span><span class="w">
</span></span></span></code></pre></div><p>If your deployment uses a custom certificate authority, you will need to specify the path to the CA file by adding the following line in the configuration file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">ca</span><span class="p">:</span><span class="w"> </span><span class="l">/path/to/ca.pem</span><span class="w">
</span></span></span></code></pre></div><p>For advanced options, see the <a href="https://www.thethingsindustries.com/docs/reference/configuration/cli/">Configuration Reference</a>.</p>
<h2 id="step-2---configure-the-cli">Step 2 - Configure the CLI</h2>
<p>Once you have the <code>.ttn-lw-cli.yml</code> configuration file, you have multiple options to make this file available to the CLI in order to configure it:</p>
<ol>
<li>Save the configuration file as <code>.ttn-lw-cli.yml</code> in <code>$XDG_CONFIG_HOME</code>, your home directory, or the working directory. If you <a href="#automatically-generate-configuration-file">automatically generate configuration using <code>ttn-lw-cli use</code></a>, the configuration will be saved in the working directory.</li>
<li>Set the environmental variable by running:</li>
</ol>
<p><strong>macOS and Linux:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TTN_LW_CONFIG</span><span class="o">=</span>/path/to/.ttn-lw-cli.yml
</span></span></code></pre></div><p><strong>Windows:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">set</span> <span class="nv">TTN_LW_CONFIG</span><span class="o">=</span>/path/to/.ttn-lw-cli.yml
</span></span></code></pre></div><ol start="3">
<li>Use command-line flag <code>-c /path/to/.ttn-lw-cli.yml</code> when running the CLI</li>
</ol>
<div class="notification is-warning is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
  When using the <code>snap</code> packages, <code>~/.ttn-lw-cli.yml</code> will fail with permission errors. Choose a different path for the configuration file.
</div>

<p>To check if configuration is being properly loaded, use the following command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli config
</span></span></code></pre></div><p>or on Windows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli.exe config
</span></span></code></pre></div><p>or for Enterprise deployments:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tti-lw-cli config
</span></span></code></pre></div><h2 id="step-3---login">Step 3 - Login</h2>
<p>Once the CLI has been configured, proceed to <a href="/docs/getting-started/cli/login/">Login with the CLI</a> to authorize and begin using the CLI.</p>

        </div>
        
          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/getting-started/cli/installing-cli/">← Installing the CLI</a>
<a class="button is-pulled-right" href="/docs/getting-started/cli/login/">Login with the CLI →</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#step-1---create-a-configuration-file'>Step 1 - Create a configuration file</a></li>
    
      
      <li><a href='#step-2---configure-the-cli'>Step 2 - Configure the CLI</a></li>
    
      
      <li><a href='#step-3---login'>Step 3 - Login</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/ttn-network/v3/90">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Nejra Selimović on 05 Jan 2022.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/7072c7dc11de345fb40b4b22261d7dc67057df91">
      doc: Add CH eu2 cluster info (#701)
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/getting-started/cli/configuring-cli/_index.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.a32708c8796e7e8713fa926212adddbbf5c15cdd97676d898ecfc17bc6d9ed4f.js" integrity="sha256-oycIyHlufocT&#43;pJiEq3du/XBXN2XZ22Jjs/Be8bZ7U8=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
