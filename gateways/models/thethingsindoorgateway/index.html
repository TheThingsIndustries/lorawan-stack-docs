<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.112.3">
  <title>The Things Indoor Gateway | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/gateways/models/thethingsindoorgateway/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.352ede3cf707e33d0e7305991a2a3d6da56e6f8a602acb8c295497963535ecdc.css" integrity="sha256-NS7ePPcH4z0OcwWZGio9baVub4pgKsuMKVSXljU17Nw=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="The Things Indoor Gateway">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="The Things Indoor Gateway">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/gateways/models/thethingsindoorgateway/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="The Things Indoor Gateway" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.7.2/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/the-things-stack/">The Things Stack</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Gateways</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/gateways/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/concepts/" class="">Concepts</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/" class="">Models</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/raspberry-pi/" class="">Building a gateway with Raspberry Pi and IC880A</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/browan-minihub-pro/" class="">Browan Minuhub Pro</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/ciscowirelessgateway/" class="">Cisco Wireless Gateway for LoRaWAN</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/cloudgate/" class="">CloudGate</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/lorix-one/udp/" class="">Connect LORIX One with UDP Packet Forwarder</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/cotx/" class="">COTX</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/dragino-lps8/" class="">Dragino LPS8N</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/kerlinkwirnetistation/" class="">Kerlink Wirnet iStation</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/kerlinkwirnetstation/" class="">Kerlink Wirnet Station</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/laird-sentrius/" class="">Laird Sentrius™ RG1xx LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/mikrotik-knot/" class="">MikroTik KNOT</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/mikrotik-ltap/" class="">MikroTik LtAP</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/mikrotikrouterboard/" class="">MikroTik Routerboard wAP LoRa8 kit</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/milesightug6x/" class="">Milesight UG6X LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/milesightug8x/" class="">Milesight UG8X LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/moko-mkgw2-lw/" class="">MOKOSMART MKGW2-LW LoRaWAN® Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/multitechconduit/" class="">MultiTech Conduit AEP</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/multitechconduit-mlinux/" class="">MultiTech Conduit mLinux</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/nasysoutdoorgateway/" class="">NASys LoRaWAN Outdoor Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/peplink-20x/" class="">Peplink Balance 20X LoRaWAN (with FlexModule Mini)</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/rak-7240/" class="">RAK7240 WisGate Edge Prime</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/tektelickonamicro/" class="">Tektelic Kona Micro IoT LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingsindoorgateway/" class="is-active">The Things Indoor Gateway</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingskickstartergateway/" class="">The Things Kickstarter Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingsoutdoor/" class="">The Things Outdoor Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/wifx-l1/" class="">Wifx L1</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/wifx-lorix-one/" class="">Wifx LORIX One</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/troubleshooting/" class="">Troubleshooting Gateways</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">The Things Indoor Gateway
          
        </h1>
        
        <h2 class="subtitle">
          
            
            





  
    
  

  
    
  



  

  

<a href="/docs/getting-started/what-is-tts#the-things-stack-deployments" target="_blank" class="badge-stack has-tooltip has-tooltip-arrow has-tooltip-light" data-tooltip="Cloud and Sandbox Only">

  <img class="badge" src="/docs/img/tts_frames/frame_cloud.svg"></img>

  <img class="badge" src="/docs/img/tts_frames/frame_ttss.svg"></img>

</a>


          
          
            <span class="tag is-light">New in 3.13.3</span>

          
          
          
        </h2>
        
        <div class="content">
          <figure class="plain float"><img src="TTIG.jpeg"
         alt="{{% ttig %}}"/>
</figure>

<p>This page guides you to connect The Things Indoor Gateway to The Things Stack.</p>
<p>The Things Indoor Gateway is an 8 Channel LoRaWAN® gateway, whose technical specifications can be found in <a href="https://www.thethingsnetwork.org/docs/gateways/thethingsindoor/">the official documentation</a>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>User account on The Things Stack with rights to create Gateways and API Keys.</li>
<li>The gateway EUI. The EUI of the gateway is <strong>not</strong> the WiFi MAC address printed on the back of the gateway, but is derived from the first number that typically is of the form <strong>58A0CBxxxxxx</strong>, printed on the top of the sticker below the QR code. For example, if that number is <strong>58A0CB800BE7</strong>, insert <strong>FFFE</strong> after the first 6 characters to make it a 16 character Gateway EUI (e.g. 58A0CBFFFE800BE7).</li>
</ol>
<p>The gateway EUI can later be found at the bottom in the WiFi setup screen.</p>
<figure><img src="TTIG_EUI.png"
         alt="{{% ttig %}} EUI"/>
</figure>

<ol start="3">
<li>The WiFi password of the The Things Indoor Gateway, typically printed on the back of the gateway.</li>
</ol>
<h2 id="claiming-the-things-indoor-gateway">Claiming The Things Indoor Gateway</h2>
<p>The Things Indoor Gateway is added to The Things Stack via a process called <strong>Gateway Claiming</strong>.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  Claiming of gateways is not supported on The Things Stack Open Source.
</div>

<div class="tabs is-boxed">
  <ul>
    
    <li data-tab="console">
      <a>
        <span>Console</span>
      </a>
    </li>
    
    <li data-tab="cli">
      <a>
        <span>CLI</span>
      </a>
    </li>
    
  </ul>
</div>
<div class="tab-content content">
  <section data-content="console">
  <p>Go to <strong>Gateways</strong> in the top menu, and click <strong>+ Register Gateway</strong> to reach the gateway registration page.</p>
<p>Fill the <strong>Gateway EUI</strong> and click <strong>Confirm</strong>.</p>
<p>Depending on whether the <strong>Gateway EUI</strong> is claimable you will either be shown the claiming form or the manual registration form.</p>
<div class="notification is-warning is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
  Do not register your TTIGs via the manual registration. All TTIGs should be claimable, if you see the manual registration form please contact support.
</div>
<p>If your gateway is claimable, you will see the claiming form. Here, fill in the <strong>Authentication Code</strong>, <strong>Gateway ID</strong> and the <strong>Frequency Plan</strong>.</p>
<p>Click <strong>Claim Gateway</strong> to finish.</p>
<figure><img src="TTIG_Claim.png"
         alt="The Things Indoor Gateway Claiming"/>
</figure>
<p>If your inputs are correct, a new gateway will be created and you will be redirected to the gateway overview page of your newly created gateway.</p>
</section>
<section data-content="cli">
  <p>The following example claims and configures a gateway with EUI <code>00800000A00009EF</code> and Gateway ID <code>gtw1</code> to the The Things Stack Sandbox <code>eu1</code> cluster.</p>
<p>Please adapt the example for your specific case.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tti-lw-cli gateways claim 00800000A00009EF <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--authentication-code abcdef <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--target-gateway-id gtw1
</span></span><span class="line"><span class="cl">--target-cups-uri https://eu1.cloud.thethings.network:443 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--target-gateway-server-address eu1.cloud.thethings.network <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--target-frequency-plan-id EU_863_870 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--user-id user1
</span></span></code></pre></div><p>For The Things Stack Cloud, you will also need to append the Tenant ID to <code>--target-cups-uri</code> and <code>--target-gateway-server-address</code> fields.</p>
<p>For example using <code>tenant1</code>, the <code>target-cups-uri</code> would be <code>https://tenant1.eu1.cloud.thethings.industries:443</code> and the <code>target-gateway-server-address</code> would become <code>tenant1.eu1.cloud.thethings.industries</code>.</p>
</section>

</div>

<h2 id="connecting-the-things-indoor-gateway">Connecting The Things Indoor Gateway</h2>
<h3 id="gateways-connected-to-another-lns">Gateways Connected to Another LNS</h3>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  This is applicable if your gateway was previously connected to The Things Network v2.
</div>

<p>If the The Things Indoor Gateway is currently connected to another LNS, do either of the following</p>
<ul>
<li>Wait up to 24 hrs (this is the default action for gateways that are not physically reachable). The Things Indoor Gateway connects to the server every 24 hours to check for new configuration.</li>
<li>Perform a hard reset by holding down the reset button for at least 5 seconds. Then, follow the new gateway instructions below.</li>
</ul>
<h3 id="new-gateways">New Gateways</h3>
<p>If your gateway has never been configured to any LNS, follow the steps below.</p>
<p>Keep the RESET button (small button at the back of the gateway next to the USB-C port) pressed for 5 seconds until the LED blinks rapidly from GREEN to RED and vice versa for a couple of times.</p>
<p>Hold the SETUP button (at the top of the gateway, next to the LED) for 10 seconds until the LED rapidly blinks RED.</p>
<p>The gateway now exposes a WiFi access point whose SSID is <strong>MINIHUB-xxxxxx</strong>, where <code>xxxxxx</code> is the last 6 digits of the gateway EUI. The password for this network is same WiFi password from the Prerequisites.</p>
<p>After connecting to this network go to <code>192.168.4.1</code> using a web browser to access the WiFi config page.
<figure><img src="TTIG_WiFi_Setup.png"
         alt="{{% ttig %}} WiFi Setup"/>
</figure>
</p>
<p>Select the WiFi network by clicking the <strong>+</strong> button next to the desired network (and enter its password if it is a secure network).</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  The Things Indoor Gateway does not support enterprise WiFi networks.
</div>

<p>Click <strong>Save and Reboot</strong> to finish.</p>
<p>If your configuration is correct,</p>
<ul>
<li>The gateway will blink GREEN for a few seconds until it connects to the selected WiFi network.</li>
<li>Then, it will blink from GREEN to RED and vice versa for a few seconds while it connects to the server and fetches the necessary configuration.</li>
<li>Please allow 5-10 minutes for the gateway to pick up the new configuration.</li>
</ul>
<p>If this is the first time your gateway is being powered on/connected to WiFi, it might pick up a new firmware depending on when it was last updated. This is indicated by alternating GREEN/RED blinks of the LED. Please leave the gateway powered on when this happens.</p>
<h2 id="existing-gateways">Existing Gateways</h2>
<p>You can also claim gateways that have been previously claimed or registered to The Things Stack.</p>
<p>For this, you need to authorize your gateways for claiming. This is currently only supported via the CLI.</p>
<div class="notification is-primary is-light has-text-dark">
  <h3 class="title has-text-dark mb-1">Command-line interface only</h3>
  <p>The instructions below use the command-line interface (CLI).</p>
  
  
  <div class="buttons">
    <a class="button is-dark is-outlined" href="https://www.thethingsindustries.com/docs/the-things-stack/interact/cli/installing-cli/">Learn how to install the CLI</a>
  </div>
</div>

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli gateways claim authorize &lt;gateway-id&gt;
</span></span></code></pre></div><p>Now claim the gateway as described in the <a href="#claiming-the-things-indoor-gateway">Claiming The Things Indoor Gateway</a> section.</p>
<p>Once complete, make sure to unauthorize the gateway to prevent further claiming.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli gateways claim unauthorize &lt;gateway-id&gt;
</span></span></code></pre></div><h2 id="using-the-things-indoor-gateway-with-different-lns">Using The Things Indoor Gateway with Different LNS</h2>
<p>Once The Things Indoor Gateway is claimed on a The Things Stack cluster, the following steps will allow it to be used with a different LNS Server.</p>
<h3 id="connecting-to-an-lns-on-a-local-network">Connecting to an LNS on a Local Network</h3>
<p>If you want to connect your gateway to an LNS on a local network (for example if you have The Things Stack installed for debugging on your laptop), use the steps below.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  In order to connect your The Things Indoor Gateway to a local The Things Stack network, the <a href="https://www.thethingsindustries.com/docs/reference/configuration/gateway-server/#security-options"><code>gs.basic-station.allow-unauthenticated</code> option</a> must be set to <code>true</code> in <a href="https://www.thethingsindustries.com/docs/the-things-stack/host/docker/configuration/#understanding-the-things-stack-configuration">The Things Stack configuration</a>.
</div>

<p>First, register the The Things Indoor Gateway on your target LNS by following <a href="https://www.thethingsindustries.com/docs/gateways/concepts/adding-gateways/">the instructions</a>.</p>
<p>In order for this to work, both the The Things Indoor Gateway and the local machine where the LNS is running must be connected to the same WiFi access point.</p>
<p>Find the IP address of the machine on which the LNS is installed. You can do this either on the network page of the settings of your operating system or use a command line tool like <code>ifconfig</code>.</p>
<p>On the The Things Stack cluster where the gateway is claimed, head over to the <strong>General settings</strong> tab on the navigation panel of the gateway.</p>
<p>Set the <strong>Gateway Server Address</strong> in the format <code>ws://&lt;ip-address&gt;:&lt;port&gt;</code>. Here, the port is the plain text web socket port that is exposed by the LNS. For example, if you are using a locally installed The Things Stack instance and the machine&rsquo;s IP address is <code>192.168.2.2</code>, then Gateway Server address would be <code>ws://192.168.2.2:1887</code>. If you are using a different port, then set that in the address.</p>
<p>Now, clear the <strong>LoRa Basics Station LNS Authentication Key</strong> value and press <strong>Save changes</strong>.</p>
<p>Restart the The Things Indoor Gateway by removing and reinserting the power supply and if your configuration is correct, your The Things Indoor Gateway will be connected to the LNS on the local machine.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  Connecting the The Things Indoor Gateway with TLS and/or with an authentication key to a local machine is not easy since that requires setting up local certificates and a DNS resolver. This is out of the scope of the documentation and hence is not explained here.
</div>

<h3 id="connecting-to-a-remote-lns">Connecting to a Remote LNS</h3>
<p>If you want to connect your gateway to a remotely hosted LNS, use the steps below.</p>
<p>First, register the The Things Indoor Gateway on your target LNS. If the target LNS requires authenticated connections, then create an auth token for the gateway. If the target LNS is a The Things Stack instance, then create an API Key with Link Gateway Rights. Follow the instructions for <a href="https://www.thethingsindustries.com/docs/gateways/concepts/adding-gateways/#create-gateway-api-key">Creating a Gateway API key</a>.</p>
<p>On the The Things Stack cluster where the gateway is claimed, head over to the <strong>General settings</strong> tab on the navigation panel of the gateway.</p>
<p>Set the <strong>Gateway Server Address</strong> to the DNS of the target LNS. For example, if the LNS is hosted at <code>thethings.example.com</code> and is using port <code>8887</code> for WebSocket traffic with TLS, then the address would be <code>thethings.example.com:8887</code>.</p>
<p>If the target LNS requires authenticated connections, set the <strong>LoRa Basics Station LNS Authentication Key</strong> field with the auth token for the gateway on the target LNS and press <strong>Save changes</strong>.</p>
<p>Either restart the The Things Indoor Gateway or wait upto 24 hours for it to reconnect to the CUPS server. If your configuration is correct, your The Things Indoor Gateway will be connected to the target LNS.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  The Things Stack automatically fetches the server certificate chain of the target LNS. This chain should be a standard certificate chain trusted by most browsers. At the moment, we don&rsquo;t support using self-signed custom certificates in this mode of operation.
</div>

<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-errors">Common Errors</h3>
<h4 id="claim-authentication-code-mismatch">Claim Authentication Code Mismatch</h4>
<p>Double-check the EUI and the WiFi Password. Sometimes an <code>8</code> looks like a <code>3</code> or a <code>B</code>, an <code>1</code> like an <code>l</code>, a <code>0</code> like an <code>O</code>, etc. Note that the <code>FFFE</code> string has an <code>e</code> at the end.</p>
<h4 id="gateway-not-authorized-for-claiming">Gateway Not Authorized for Claiming</h4>
<p>If you have already registered/claimed your The Things Indoor Gateway in The Things Stack cluster that you want to claim, check the section on <a href="#existing-gateways">claiming existing gateways</a>.</p>
<h4 id="gateway-with-id-already-exists">Gateway with ID Already Exists</h4>
<p>This means that either you or another user has already used the Gateway ID. Please choose another ID and try again.</p>
<h4 id="gateway-shows-status-disconnected-and-the-led-status-is-solid-green-what-do-i-do">Gateway shows status <code>Disconnected</code> and the LED status is solid green. What do I do?</h4>
<p>Reboot your The Things Indoor Gateway. If the gateway status is still <code>Disconnected</code> after a reboot, try performing a factory reset and reconfiguring the gateway.</p>
<h3 id="led-states">LED States</h3>
<table>
<thead>
<tr>
<th>Color(s)</th>
<th>Illumination Pattern</th>
<th>Operating Mode</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>GREEN</td>
<td>Blinking (freq 1 sec)</td>
<td>GW</td>
<td>WiFi not connected (or trying to connect)</td>
</tr>
<tr>
<td>GREEN</td>
<td>Blinking (freq 1/4 sec)</td>
<td>GW</td>
<td>Connected to WiFi, establishing connection to LNS/configuring radio</td>
</tr>
<tr>
<td>GREEN</td>
<td>Solid</td>
<td>GW</td>
<td>Connected to WiFi, connected to LNS backend, listening for packets</td>
</tr>
<tr>
<td>GREEN/RED</td>
<td>Alternate Blinking (freq 1/4 sec)</td>
<td>CONF</td>
<td>Scanning WiFi networks, setting up Config AP</td>
</tr>
<tr>
<td>RED</td>
<td>Blinking (freq 1/4 sec)</td>
<td>CONF</td>
<td>Config AP active</td>
</tr>
</tbody>
</table>
<h3 id="button-actions">Button Actions</h3>
<p>There are three possible button actions on the TTIG that are listed below.</p>
<ul>
<li>SETUP button pressed for 10s:
<ul>
<li>Switch to CONF mode if in GW mode</li>
</ul>
</li>
<li>SETUP button pressed for 5s:
<ul>
<li>Reboot if in CONF mode, do nothing in GW mode</li>
</ul>
</li>
<li>RESET button pressed for 5s:
<ul>
<li>Factory reset (wipes out WiFi and LNS credentials, retains CUPS credentials)</li>
</ul>
</li>
</ul>
<h3 id="serial-logging">Serial logging</h3>
<p>It is possible to read debug messages of the gateway but it requires opening its casing.</p>
<div class="notification is-warning is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
  Opening the casing may damage the gateway and/or void your warranty.
</div>

<p>The casing needs to be first opened by unscrewing two screws found below the top and the bottom panel. Then, connect a 3.3V UART-USB Interface such as an FTDI to your computer. Connect the Rx (FTDI) to the Tx of the Gateway and ground pins.</p>
<p>Use a serial terminal (Ex: <code>PUTTY</code> on Windows and <code>screen</code>/<code>minicom</code> on macOS/Linux) with a baudrate of 115200@8N to read the serial out. The connections are shown in the image below.</p>
<figure><img src="TTIG_Serial.jpg"
         alt="{{% ttig %}} Serial"/>
</figure>

<h3 id="operating-behind-a-firewall">Operating behind a firewall</h3>
<p>The following connections must be permitted in the firewall.</p>
<table>
<thead>
<tr>
<th>IP Version</th>
<th>Protocol</th>
<th>Destination</th>
<th>Port</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>IPv4</td>
<td>TCP</td>
<td>&lt;cluster&gt;.cloud.thethings.network</td>
<td>443</td>
<td>CUPS</td>
</tr>
<tr>
<td>IPv4</td>
<td>TCP</td>
<td>&lt;cluster&gt;.cloud.thethings.network</td>
<td>8887</td>
<td>LNS</td>
</tr>
<tr>
<td>IPv4</td>
<td>TCP</td>
<td>rjs.sm.tc</td>
<td>9191</td>
<td>Root CUPS</td>
</tr>
<tr>
<td>IPv4</td>
<td>UDP</td>
<td>your DNS server(s)</td>
<td>53</td>
<td>DNS</td>
</tr>
</tbody>
</table>
        </div>
          <div class="columns is-multiline">
</div>

          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/gateways/models/tektelickonamicro/udp/">← Connect Tektelic Kona Micro with UDP Packet Forwarder</a>
<a class="button is-pulled-right" href="/docs/gateways/models/thethingskickstartergateway/">The Things Kickstarter Gateway →</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#prerequisites'>Prerequisites</a></li>
    
      
      <li><a href='#claiming-the-things-indoor-gateway'>Claiming The Things Indoor Gateway</a></li>
    
      
      <li><a href='#connecting-the-things-indoor-gateway'>Connecting The Things Indoor Gateway</a></li>
    
      
      <li><a href='#existing-gateways'>Existing Gateways</a></li>
    
      
      <li><a href='#using-the-things-indoor-gateway-with-different-lns'>Using The Things Indoor Gateway with Different LNS</a></li>
    
      
      <li><a href='#troubleshooting'>Troubleshooting</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-third">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/the-things-stack/">The Things Stack</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-third">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
      </nav>
      
      <nav class="column is-one-third">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.4a22f0dea0620048bc258cf6dedbdfbec40f3b5dba1dcdc6536e61e7bc20a5bf.js" integrity="sha256-SiLw3qBiAEi8JYz23tvfvsQPO126Hc3GU25h57wgpb8=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
