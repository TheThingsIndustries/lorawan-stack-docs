<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.112.3">
  <title>Cisco Wireless Gateway for LoRaWAN | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/gateways/models/ciscowirelessgateway/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.a66756cfe43ecf9e9bdf4eda3f7a6599499c94b1de904093e2d076c04af16f4b.css" integrity="sha256-pmdWz&#43;Q&#43;z56b307aP3plmUmclLHekECT4tB2wErxb0s=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Cisco Wireless Gateway for LoRaWAN">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Cisco Wireless Gateway for LoRaWAN">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/gateways/models/ciscowirelessgateway/">
  <meta name="twitter:title" content="Cisco Wireless Gateway for LoRaWAN" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>


</head>


<body>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.26.1</p>
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/the-things-stack/">The Things Stack</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Gateways</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/gateways/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/concepts/" class="">Concepts</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/" class="">Models</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/raspberry-pi/" class="">Building a gateway with Raspberry Pi and IC880A</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/browan-minihub-pro/" class="">Browan Minuhub Pro</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/ciscowirelessgateway/" class="is-active">Cisco Wireless Gateway for LoRaWAN</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/cloudgate/" class="">CloudGate</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/lorix-one/udp/" class="">Connect LORIX One with UDP Packet Forwarder</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/cotx/" class="">COTX</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/dragino-lps8/" class="">Dragino LPS8</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/kerlinkwirnetistation/" class="">Kerlink Wirnet iStation</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/kerlinkwirnetstation/" class="">Kerlink Wirnet Station</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/laird-sentrius/" class="">Laird Sentrius™ RG1xx LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/mikrotik-knot/" class="">MikroTik KNOT</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/mikrotik-ltap/" class="">MikroTik LtAP</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/mikrotikrouterboard/" class="">MikroTik Routerboard wAP LoRa8 kit</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/milesightug6x/" class="">Milesight UG6X LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/milesightug8x/" class="">Milesight UG8X LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/moko-mkgw2-lw/" class="">MOKOSMART MKGW2-LW LoRaWAN® Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/multitechconduit/" class="">MultiTech Conduit AEP</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/multitechconduit-mlinux/" class="">MultiTech Conduit mLinux</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/nasysoutdoorgateway/" class="">NASys LoRaWAN Outdoor Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/peplink-20x/" class="">Peplink Balance 20X LoRaWAN (with FlexModule Mini)</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/rak-7240/" class="">RAK7240 WisGate Edge Prime</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/tektelickonamicro/" class="">Tektelic Kona Micro IoT LoRaWAN Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingsindoorgateway/" class="">The Things Indoor Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingskickstartergateway/" class="">The Things Kickstarter Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingsoutdoor/" class="">The Things Outdoor Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/wifx-l1/" class="">Wifx L1</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/wifx-lorix-one/" class="">Wifx LORIX One</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/troubleshooting/" class="">Troubleshooting Gateways</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Cisco Wireless Gateway for LoRaWAN
          
        </h1>
        
        <div class="content">
          <p>This page guides you to connecting the Cisco Wireless Gateway for LoRaWAN® to The Things Stack.</p>
<p>Technical specifications for this gateway can be found in <a href="https://www.cisco.com/c/en/us/products/routers/wireless-gateway-lorawan/">Cisco&rsquo;s official documentation</a>.</p>
<figure class="float plain"><img src="cisco.jpg"
         alt="Cisco LoRaWAN Gateway"/>
</figure>

<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>User account on The Things Stack with rights to create gateways.</li>
<li>Cisco Wireless Gateway for LoRaWAN with latest firmware (version <code>2.0.32</code> or higher), connected to the internet (or your local network) via ethernet.</li>
<li><a href="https://www.cablesandkits.com/accessories/console-cables/usb-rj45-6ft/pro-9900/">Console cable from USB to RJ45</a>.</li>
</ol>
<h2 id="registration">Registration</h2>
<p>Create a gateway by following the instructions for the <a href="https://www.thethingsindustries.com/docs/the-things-stack/interact/console/#create-gateway">Console</a> or the <a href="https://www.thethingsindustries.com/docs/the-things-stack/interact/cli/#create-gateway">CLI</a>.</p>
<p>The gateway EUI is derived from the MAC address that can be found on the back panel of the gateway. To get the EUI from the MAC address insert <code>FFFE</code> after the first 6 characters to make it a 64-bit EUI. For example, if the gateway&rsquo;s MAC address is <code>5B:A0:CB:80:04:2B</code> then the EUI is <code>5B A0 CB FF FE 80 04 2B</code>.</p>
<p>The <strong>Gateway Server Address</strong> is the address of your The Things Stack deployment. See <a href="https://www.thethingsindustries.com/docs/the-things-stack/concepts/server-addresses/">Server Addresses</a>.</p>
<h2 id="configuration">Configuration</h2>
<p>Plug the RJ45 end of the cable in the Console port at the side of the gateway, and the USB port to your computer.</p>
<p>If you are using MacOS or Linux, connect to the Gateway by opening a terminal and a executing the following commands:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ls /dev/tty.usb*
</span></span></code></pre></div><p>This will display the list of available USB serial devices. Once you have found the one matching the Cisco console, connect using the following command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">screen /dev/tty.usbserial-AO001X6M <span class="m">115200</span>
</span></span></code></pre></div><p>Use PuTTy if you are using Windows.</p>
<p>You are now in the gateway&rsquo;s shell, called <code>standalone mode</code>.</p>
<h3 id="system-setup">System setup</h3>
<p>First you need to enable the privileged mode.</p>
<pre tabindex="0"><code>Gateway&gt; enable
</code></pre><h4 id="network">Network</h4>
<p>To configure your Cisco Gateway to your network, type the following commands:</p>
<pre tabindex="0"><code>Gateway# configure terminal 
Gateway(config)# interface FastEthernet 0/1
</code></pre><p>If your local network has a DHCP server attributing IPs:</p>
<pre tabindex="0"><code>Gateway(config-if)# ip address dhcp
</code></pre><p>Otherwise, if you know the static IP address of your gateway:</p>
<pre tabindex="0"><code>Gateway(config-if)# ip address &lt;ip-address&gt; &lt;subnet-mask&gt;
</code></pre><p>Next, type the following to save the network configuration of your gateway:</p>
<pre tabindex="0"><code>Gateway(config-if)# description Ethernet
Gateway(config)# exit
Gateway# exit
Gateway# copy running-config startup-config
</code></pre><p>You can test your Internet configuration with the <code>ping</code> command, for example ping Google&rsquo;s DNS server:</p>
<pre tabindex="0"><code>Gateway# ping ip 8.8.8.8
</code></pre><p>To see more information about the gateway&rsquo;s IP and the network, you can use:</p>
<ul>
<li><code>show interfaces FastEthernet 0/1</code></li>
<li><code>show ip interfaces FastEthernet 0/1</code> or</li>
<li><code>show ip route</code></li>
</ul>
<h4 id="date-and-time">Date and Time</h4>
<p>To configure your system&rsquo;s date and time, you can use <code>ntp</code>:</p>
<pre tabindex="0"><code>Gateway# configure terminal
Gateway(config)# ntp server address &lt;NTP server address&gt;
Gateway(config)# exit
</code></pre><p>or</p>
<pre tabindex="0"><code>Gateway# configure terminal
Gateway(config)# ntp server ip &lt;NTP server IP&gt;
Gateway(config)# exit
</code></pre><p>If you do not have production-grade ntp servers available, you can use <a href="http://www.pool.ntp.org/en/use.html">pool.ntp.org</a>&rsquo;s servers.</p>
<h4 id="fpga">FPGA</h4>
<p>If you needed to update your gateway firmware previously, your FPGA will need ~20 minutes to update once the new firmware is installed. The packet forwarder will not work until then, so we recommend at this point waiting until the FPGA is upgraded.To show the status of the FPGA, you can use the following command:</p>
<pre tabindex="0"><code>Gateway# show inventory
</code></pre><p>When the <strong>FPGAStatus</strong> line indicates <strong>Ready</strong>, this means you can go forward with this guide.</p>
<h4 id="gps">GPS</h4>
<p>If you have a GPS connected to your Cisco gateway, enable it with the following commands:</p>
<pre tabindex="0"><code>Gateway# configure terminal
Gateway(config)# gps ubx enable
Gateway(config)# exit
</code></pre><p>This command may return the message <code>packet-forwarder firmware is not installed</code>, which can be ignored.</p>
<h4 id="enable-radio">Enable Radio</h4>
<p>As a final step before setting up the packet forwarder software, we are going to enable the radio. You can see radio information with the <code>show radio</code> command:</p>
<pre tabindex="0"><code>Gateway# show radio 
ORA_SN: FOC21028R8S
ORA_PN: 95.1602T01
ORA_SKU: 915
ORA_CALC: &lt;NA,NA,NA,50,31,106,97,88,80,71,63,53,44,34,25,16-NA,NA,NA,54,36,109,100,91,83,74,66,57,48,39,30,21&gt;
AL_TEMP_CELSIUS: 31
AL_TEMP_CODE_AD9361: 87
SSI_OFFSET: -204.00,-204.40
ORA_REVISION_NUM: C0
SSI_OFFSET_AUS: -203.00,-204.00

radio status:
on
</code></pre><p>If the radio is off, enable it with:</p>
<pre tabindex="0"><code>Gateway# configure terminal 
Gateway(config)# no radio off
Gateway(config)# exit
</code></pre><p>The <code>show radio</code> command also shows you more information about the LoRa concentrator powering the gateway. For example, <code>LORA_SKU</code> indicates the base frequency of the concentrator.</p>
<h4 id="enable-authentication">Enable Authentication</h4>
<p>To prevent unauthorized access to the gateway, you&rsquo;ll want to set up user authentication. The Cisco gateway has a secret system, that requires users to enter a secret to access privileged commands.</p>
<p>To enable this secret system, you can use the following commands:</p>
<ul>
<li><code>Gateway# configure terminal</code> to enter global configuration mode.</li>
<li>To set the secret, you can use different commands:
<code>Gateway(config)# enable secret &lt;secret&gt;</code> to enter in plaintext the secret you wish to set, instead of <code>&lt;secret&gt;</code>. <em>Note</em>: Special characters cannot be used in plain secrets.
<code>Gateway(config)# enable secret 5 &lt;secret&gt;</code> to enter the md5-encrypted secret.
<code>Gateway(config)# enable secret 8 &lt;secret&gt;</code> to enter the SHA512-encrypted secret.</li>
<li><code>Gateway(config)# exit</code> to exit global configuration mode.</li>
<li><code>Gateway#copy running-config startup-config</code> to save the configuration.</li>
</ul>
<h4 id="verification">Verification</h4>
<p>Before we install the packet forwarder, let&rsquo;s run verification to ensure that the gateway is ready.</p>
<ul>
<li>Type <code>show radio</code> to verify that the radio is enabled. The result should indicate <strong>radio status: on</strong>.</li>
<li>Type <code>show inventory</code> to verify that the <strong>FPGAStatus</strong> is <strong>Ready</strong>.</li>
<li>Type <code>show gps status</code> to verify that the GPS is correctly connected. You can get additional GPS metadata by typing <code>show gps info</code>.</li>
<li>Verify that the network connection is working. You can test this by pinging common ping servers with <code>ping ip &lt;IP&gt;</code>, if your local network does not block ping commands. For example, you can ping Google&rsquo;s servers with <code>ping ip 8.8.8.8</code>.</li>
</ul>
<p>If some of those checks fail, go back to the appropriate section earlier in order to fix it.</p>
<p>Then save the configuration by executing:</p>
<pre tabindex="0"><code>Gateway# copy running-config startup-config
</code></pre><h3 id="packet-forwarder-configuration">Packet Forwarder Configuration</h3>
<div class="notification is-warning is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
  Keep in mind that the pre-installed packet forwarder is not supported by Cisco for production purposes.
</div>

<p>To run the packet forwarder, we&rsquo;ll make use of the container that is running on the gateway at all times.</p>
<pre tabindex="0"><code>Gateway# request shell container-console
</code></pre><p>You will be requested to enter the System Password. By default this is <code>admin</code>.</p>
<p>Create the directory to store the Packet Forwarder configuration:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# mkdir /etc/pktfwd
</span></span></code></pre></div><p>Copy the packet forwarder to <code>/etc/pktfwd</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# cp /tools/pkt_forwarder /etc/pktfwd/pkt_forwarder
</span></span></code></pre></div><h4 id="retrieve-configuration-from-the-gateway-configuration-server">Retrieve configuration from the Gateway Configuration Server</h4>
<p>The Gateway Configuration Server can be used to retrieve a proper <code>global_conf.json</code> configuration file for your gateway. Follow instructions <a href="https://www.thethingsindustries.com/docs/gateways/concepts/udp/">here</a>.</p>
<p>Copy the downloaded <code>global_conf.json</code> configuration template as <code>config.json </code>to <code>/etc/pktfwd</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# cp config.json /etc/pktfwd/config.json
</span></span></code></pre></div><p>You can now test the packet forwarder by executing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# /etc/pktfwd/pkt_forwarder -c /etc/pktfwd/config.json -g/dev/ttyS1
</span></span></code></pre></div><p>Your gateway will connect to The Things Stack after a couple of minutes.</p>
<p>Now that we know the packet forwarder is running, let&rsquo;s make it run automatically. Use this command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# vi /etc/init.d/S60pkt_forwarder
</span></span></code></pre></div><p>Press the <code>i</code> key on your keyboard to start insert mode. Once finished editing, press <code>ESC</code> and enter <code>:wq</code> to write the file and quit.</p>
<p>Then copy paste the code below. Replace <code>things.example.com</code> with the name of your network after <code>nslookup</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">SCRIPT_DIR</span><span class="o">=</span>/etc/pktfwd
</span></span><span class="line"><span class="cl"><span class="nv">SCRIPT</span><span class="o">=</span><span class="nv">$SCRIPT_DIR</span>/pkt_forwarder
</span></span><span class="line"><span class="cl"><span class="nv">CONFIG</span><span class="o">=</span><span class="nv">$SCRIPT_DIR</span>/config.json
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">PIDFILE</span><span class="o">=</span>/var/run/pkt_forwarder.pid
</span></span><span class="line"><span class="cl"><span class="nv">LOGFILE</span><span class="o">=</span>/var/log/pkt_forwarder.log
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">NETWORKIP</span><span class="o">=</span><span class="k">$(</span>nslookup things.example.com <span class="p">|</span> grep -E -o <span class="s2">&#34;([0-9]{1,3}[\.]){3}[0-9]{1,3}&#34;</span> <span class="p">|</span> tail -1<span class="k">)</span>
</span></span><span class="line"><span class="cl">sed -i <span class="s1">&#39;s/[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}/&#39;</span><span class="nv">$NETWORKIP</span><span class="s1">&#39;/g&#39;</span> <span class="s2">&#34;</span><span class="nv">$CONFIG</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">start<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;Starting pkt_forwarder&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nb">cd</span> <span class="nv">$SCRIPT_DIR</span>
</span></span><span class="line"><span class="cl">  start-stop-daemon <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --start <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --make-pidfile <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --pidfile <span class="s2">&#34;</span><span class="nv">$PIFDILE</span><span class="s2">&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --background <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --startas /bin/bash -- -c <span class="s2">&#34;exec </span><span class="nv">$SCRIPT</span><span class="s2"> -- -c </span><span class="nv">$CONFIG</span><span class="s2"> -g /dev/ttyS1 &gt;&gt; </span><span class="nv">$LOGFILE</span><span class="s2"> 2&gt;&amp;1&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="nv">$?</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">stop<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;Stopping pkt_forwarder&#34;</span>
</span></span><span class="line"><span class="cl">  start-stop-daemon <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --stop <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --oknodo <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --quiet <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --pidfile <span class="s2">&#34;</span><span class="nv">$PIDFILE</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">restart<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  stop
</span></span><span class="line"><span class="cl">  sleep <span class="m">1</span>
</span></span><span class="line"><span class="cl">  start
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">case</span> <span class="s2">&#34;</span><span class="nv">$1</span><span class="s2">&#34;</span> in
</span></span><span class="line"><span class="cl">  start<span class="o">)</span>
</span></span><span class="line"><span class="cl">    start
</span></span><span class="line"><span class="cl">    <span class="p">;;</span>
</span></span><span class="line"><span class="cl">  stop<span class="o">)</span>
</span></span><span class="line"><span class="cl">    stop
</span></span><span class="line"><span class="cl">    <span class="p">;;</span>
</span></span><span class="line"><span class="cl">  restart<span class="p">|</span>reload<span class="o">)</span>
</span></span><span class="line"><span class="cl">    restart
</span></span><span class="line"><span class="cl">    <span class="p">;;</span>
</span></span><span class="line"><span class="cl">  *<span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;Usage: </span><span class="nv">$0</span><span class="s2"> {start|stop|restart}&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">exit</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="k">esac</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">exit</span> <span class="nv">$?</span>
</span></span></code></pre></div><p>Then make the init script executable:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# chmod +x /etc/init.d/S60pkt_forwarder
</span></span></code></pre></div><p>To enable it immediately, execute:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# /etc/init.d/S60pkt_forwarder start
</span></span></code></pre></div><p>You can now reboot the gateway, it can take up to 4 minutes.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>If the gateway does not connect to the The Things Stack after a few minutes, you can check the log file to see if the packet forwarder started properly.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bash-3.2# tail -100 var/log/pkt_forwarder.log
</span></span></code></pre></div><p>GPS warnings may appear, which means the packet forwarder started.</p>
<p>If the radio failed to start, disconnect and reconnect the power supply to power-cycle the gateway.</p>
<p>For further information and troubleshooting, have a look at <a href="https://www.cisco.com/c/en/us/td/docs/routers/interface-module-lorawan/software/configuration/guide/b_lora_scg.pdf">Cisco&rsquo;s Configuration Guide</a>.</p>
        </div>
        
          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/gateways/models/browan-minihub-pro/">← Browan Minuhub Pro</a>
<a class="button is-pulled-right" href="/docs/gateways/models/cloudgate/">CloudGate →</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#prerequisites'>Prerequisites</a></li>
    
      
      <li><a href='#registration'>Registration</a></li>
    
      
      <li><a href='#configuration'>Configuration</a></li>
    
      
      <li><a href='#troubleshooting'>Troubleshooting</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/the-things-stack/">The Things Stack</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/ttn-network/v3/90">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Krishna Iyer on 19 Apr 2023.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/7b36a78abab91e6a6967b41f03b65551a89e54c9">
      Restructure documentation (#1076)
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/gateways/models/ciscowirelessgateway/_index.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.c601451bfe16c7a1f9f8a5874bf803042c24e8aaf36ffb7ab8f2f0b1fc2d6961.js" integrity="sha256-xgFFG/4Wx6H5&#43;KWHS/gDBCwk6Krzb/t6uPLwsfwtaWE=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
