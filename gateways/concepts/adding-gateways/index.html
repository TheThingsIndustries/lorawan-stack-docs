<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.112.3">
  <title>Adding Gateways | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/gateways/concepts/adding-gateways/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.1734e98fc0eb35f5e3b9f3f9a27d19d7cc102b4737ff72b5111ea78f3e79eb15.css" integrity="sha256-FzTpj8DrNfXjufP5on0Z18wQK0c3/3K1ER6njz556xU=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Adding Gateways">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Adding Gateways">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/gateways/concepts/adding-gateways/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="Adding Gateways" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.7.2/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/the-things-stack/">The Things Stack</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Gateways</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/gateways/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/concepts/" class="">Concepts</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/concepts/adding-gateways/" class="is-active">Adding Gateways</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/concepts/gateway-claiming/" class="">Gateway Claiming</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/concepts/lora-basics-station/" class="">LoRa Basics™ Station</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/gateways/concepts/udp/" class="">Semtech UDP Packet Forwarder</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/models/" class="">Models</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/gateways/troubleshooting/" class="">Troubleshooting Gateways</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Adding Gateways
          
        </h1>
        
        <div class="content">
          <p>This section contains instructions for adding Gateways in The Things Stack.</p>
<p>Some gateways, like <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingsindoorgateway/">The Things Indoor Gateway</a>, have special instructions for claiming. Look for your gateway in the left hand menu for specific instructions, as this guide does not apply to those gateways.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  Do not follow this guide for a <a href="https://www.thethingsindustries.com/docs/gateways/models/thethingsindoorgateway/">The Things Indoor Gateway</a>.
</div>

<p>If your The Things Stack deployment is connected to <a href="https://www.thethingsindustries.com/docs/the-things-stack/packet-broker/">Packet Broker</a>, you can take advantage of coverage from The Things Network without adding any gateways of your own. See the community sourced <a href="ttnmapper.org">TTN Mapper</a> to find out if your location has nearby gateways.</p>
<p>Adding gateways using the Console or the CLI is usually most convenient, so those methods are extensively explained in this section. However, it is also possible to add gateways <a href="https://www.thethingsindustries.com/docs/the-things-stack/interact/api/#register-a-gateway">using the API</a>.</p>
<div class="tabs is-boxed">
  <ul>
    
    <li data-tab="console">
      <a>
        <span>Console</span>
      </a>
    </li>
    
    <li data-tab="cli">
      <a>
        <span>CLI</span>
      </a>
    </li>
    
  </ul>
</div>
<div class="tab-content content">
  <section data-content="console">
  <h2 id="adding-gateways-using-the-console">Adding Gateways using the Console</h2>
<p>Go to <strong>Gateways</strong> in the top menu, and click <strong>+ Register Gateway</strong> to reach the gateway registration page.</p>
<p>Fill the <strong>Gateway EUI</strong> and click <strong>Confirm</strong>. Some gateways do not use a <strong>Gateway EUI</strong> (e.g. The Things Kickstarter Gateway), in which case you can just click on <strong>Continue without EUI</strong>.</p>
<p>Depending on whether the <strong>Gateway EUI</strong> is claimable you will either be shown the claiming form or the manual registration form.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  Claiming of gateways is not supported on The Things Stack Open Source. In that case, you will see the manual registration form by default.
</div>
<figure><img src="gateway-add.png"
         alt="Gateway add"/>
</figure>
<p>On the manual registration form fill in the <strong>Frequency Plan</strong> and the <strong>Gateway ID</strong> if it was not pre filled, The other fields are optional. Click <strong>Register Gateway</strong> to finish.</p>
<figure><img src="gateway-creation.png"
         alt="Gateway creation"/>
</figure>
<p>If your gateway is claimable (e.g. The Things Indoor Gateway), you will see the claiming form. Here, fill in the <strong>Authentication Code</strong>, <strong>Gateway ID</strong> and the <strong>Frequency Plan</strong>. Click <strong>Claim Gateway</strong> to finish.</p>
<figure><img src="gateway-claim.png"
         alt="Gateway claiming"/>
</figure>
<p>Your gateway will be created and you will be redirected to the gateway overview page of your newly created gateway.</p>
<figure><img src="gateway-overview.png"
         alt="Gateway overview"/>
</figure>
<p>You can now connect your gateway to The Things Stack.</p>
</section>
<section data-content="cli">
  <h2 id="adding-gateways-using-the-cli">Adding Gateways using the CLI</h2>
<p>We define some user parameters that will be used below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">GTW_ID</span><span class="o">=</span><span class="s2">&#34;gtw1&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">FREQUENCY_PLAN</span><span class="o">=</span><span class="s2">&#34;EU_863_870&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">GTW_EUI</span><span class="o">=</span><span class="s2">&#34;00800000A00009EF&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">USER_ID</span><span class="o">=</span><span class="s2">&#34;admin&#34;</span>
</span></span></code></pre></div><p>Make sure to modify these according to your setup.</p>
<p>First, list the available frequency plans:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli gateways list-frequency-plans
</span></span></code></pre></div><p>Then, create the first gateway with the chosen frequency plan:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli gateways create <span class="nv">$GTW_ID</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --user-id <span class="nv">$USER_ID</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --frequency-plan-id <span class="nv">$FREQUENCY_PLAN</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --gateway-eui <span class="nv">$GTW_EUI</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --enforce-duty-cycle
</span></span></code></pre></div><p>This creates a gateway <code>gtw1</code> with user <code>admin</code> as collaborator, frequency plan <code>EU_863_870</code>, EUI <code>00800000A00009EF</code> and respecting duty-cycle limitations. You can now connect your gateway to The Things Stack.</p>
</section>

</div>

<h2 id="create-gateway-api-key">Create Gateway API Key</h2>
<p>Some gateways require an API Key with Link Gateway Rights to be able to connect to The Things Stack. In this section we explain how to create an API key with this right, but the procedure of creating an API key is identical for any other right as well.</p>
<div class="tabs is-boxed">
  <ul>
    
    <li data-tab="console">
      <a>
        <span>Console</span>
      </a>
    </li>
    
    <li data-tab="cli">
      <a>
        <span>CLI</span>
      </a>
    </li>
    
  </ul>
</div>
<div class="tab-content content">
  <section data-content="console">
  <p>To do this, navigate to <strong>API Keys</strong> on the left hand menu of your gateway&rsquo;s settings and select <strong>Add API Key</strong>.</p>
<p>Enter a <strong>Name</strong> for your key, set the <strong>Expiry date</strong>, select the <strong>Link as Gateway to a Gateway Server for traffic exchange, i.e. write uplink and read downlink</strong> right and then press <strong>Create API Key</strong>.</p>
<figure><img src="gateway-api-key-creation.png"
         alt="Gateway API Key creation"/>
</figure>
<p>You will see a screen that shows your newly created API Key. You now can copy it in your clipboard by pressing the copy button. After saving the key in a safe place, press <strong>I have copied the key</strong>. You will not be able to see this key again in the future, and if you lose it, you can create a new one to replace it in the gateway configuration.</p>
<figure><img src="gateway-api-key-created.png"
         alt="Gateway API Key created"/>
</figure>
</section>
<section data-content="cli">
  <p>To create an API key for the gateway with the <strong>Link as Gateway Server for traffic exchange, i.e. write uplink and read downlink</strong> right:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">API_KEY_NAME</span><span class="o">=</span><span class="s2">&#34;API key for connecting my gateway&#34;</span>
</span></span><span class="line"><span class="cl">ttn-lw-cli gateways api-keys create <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --name <span class="nv">$API_KEY_NAME</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --gateway-id <span class="nv">$GTW_ID</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --right-gateway-link
</span></span></code></pre></div><p>The CLI will return an API key such as <code>NNSXS.VEEBURF3KR77ZR...</code>. This API key has only link rights and can therefore only be used for linking this gateway. Make sure to copy the key and save it in a safe place. You will not be able to see this key again in the future, and if you lose it, you can create a new one to replace it in the gateway configuration.</p>
<p>See the <a href="https://www.thethingsindustries.com/docs/ttn-lw-cli/ttn-lw-cli_gateways_api-keys/">CLI Reference</a> for details on managing gateway API keys using the CLI.</p>
</section>

</div>

<h2 id="set-gateway-location">Set Gateway Location</h2>
<div class="tabs is-boxed">
  <ul>
    
    <li data-tab="console">
      <a>
        <span>Console</span>
      </a>
    </li>
    
    <li data-tab="cli">
      <a>
        <span>CLI</span>
      </a>
    </li>
    
  </ul>
</div>
<div class="tab-content content">
  <section data-content="console">
  <p>Once you have added your gateway to The Things Stack, you can also set its location to be displayed on a map widget by clicking <strong>Change location settings</strong>.</p>
<p>If you do not mind your gateway&rsquo;s location to be publicly displayed, check the <strong>Publish location</strong> box.</p>
<p>The gateway location can be manually set by entering the <strong>Latitude</strong>, <strong>Longitude</strong> and <strong>Altitude</strong> values.</p>
<p>You can also check the <strong>Update from status messages</strong> box if you want to update the location based on the metadata from the incoming uplink gateway status messages. The location settings you manually entered will be overwritten by the updates from the gateway status messages.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  The Things Stack Console currently supports setting one antenna location per gateway.
</div>
<figure><img src="gateway-location.png"
         alt="Gateway location"/>
</figure>
</section>
<section data-content="cli">
  <p>Once you have added your gateway to The Things Stack, you can also set the locations of the gateway antennas.</p>
<p>Add an antenna and set its location  with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">LAT</span><span class="o">=</span><span class="s2">&#34;43.84&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">LONG</span><span class="o">=</span><span class="s2">&#34;18.32&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">ALT</span><span class="o">=</span><span class="s2">&#34;500&#34;</span>
</span></span><span class="line"><span class="cl">ttn-lw-cli gateways <span class="nb">set</span> <span class="nv">$GTW_ID</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --antenna.location.latitude <span class="nv">$LAT</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --antenna.location.longitude <span class="nv">$LONG</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --antenna.location.altitude <span class="nv">$ALT</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --antenna.add <span class="se">\
</span></span></span></code></pre></div><p>If you do not mind your gateway&rsquo;s location to be publicly displayed, append the <code>--location-public</code> flag.</p>
<p>You can also set the gateway location to be updated from various sources with the <code>--antenna.location.source</code> flag. The source of the location data can be the registry, GPS data, results of the LoRa RSSI geolocation, etc.</p>
<p>Use <code>ttn-lw-cli gateways set $GTW_ID --help</code> command to see the full list of the available location sources and other relatable info. Keep in mind that if you set the alternative location source, the location settings you manually set will be overwritten by the automatic updates from that source.</p>
<p>The CLI will return something like:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;ids&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;gateway_id&#34;</span><span class="p">:</span> <span class="s2">&#34;gtw1&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;created_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-05-27T14:43:13.606Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version_ids&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;auto_update&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;antennas&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;location&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">43.84</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">18.32</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;altitude&#34;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;source&#34;</span><span class="p">:</span> <span class="s2">&#34;SOURCE_REGISTRY&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;location_public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
</section>

</div>

<p>Keep in mind that if you change the physical location of your gateway, the location update in The Things Stack will take place only after you restart the gateway.</p>
<h2 id="set-gateway-antenna-gain">Set Gateway Antenna Gain</h2>
<div class="notification is-primary is-light has-text-dark">
  <h3 class="title has-text-dark mb-1">Command-line interface only</h3>
  <p>The instructions below use the command-line interface (CLI).</p>
  <div class="buttons">
    <a class="button is-dark is-outlined" href="https://www.thethingsindustries.com/docs/the-things-stack/interact/cli/installing-cli/">Learn how to install the CLI</a>
  </div>
</div>
<p>A preffered way for adjusting a downlink path gain is setting the gateway antenna gain, instead of changing the gateway Tx power. The following command will set the gateway antenna gain to 3 dB:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">GAIN</span><span class="o">=</span><span class="s2">&#34;3&#34;</span>
</span></span><span class="line"><span class="cl">ttn-lw-cli gateways <span class="nb">set</span> <span class="nv">$GTW_ID</span> --antenna.gain <span class="nv">$GAIN</span>
</span></span></code></pre></div><p>The CLI output will be similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;ids&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;gateway_id&#34;</span><span class="p">:</span> <span class="s2">&#34;gtw1&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;created_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-05-27T14:43:13.606Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version_ids&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;auto_update&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;antennas&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;gain&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;location&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">43.84</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">18.32</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;altitude&#34;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;source&#34;</span><span class="p">:</span> <span class="s2">&#34;SOURCE_REGISTRY&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;location_public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Keep in mind that the <code>antennas.location</code> object will be empty if you have not previously set the gateway antenna location.</p>
<p>Once a gateway has been added, get started with <a href="https://www.thethingsindustries.com/docs/devices/adding-devices/">Adding Devices</a> and <a href="https://www.thethingsindustries.com/docs/integrations/">Integrations</a> to process and act on data.</p>
<h2 id="forwarding-uplinks-to-packet-broker">Forwarding Uplinks to Packet Broker</h2>
<p>In deployments connected to <a href="https://www.thethingsindustries.com/docs/the-things-stack/packet-broker/">Packet Broker</a>, you can control if you want uplinks received by your gateway to be forwarded to Packet Broker or not. In these deployments, uplinks received by your gateway are being forwarded to Packet Broker by default, but you can choose to disable this behavior.</p>
<p>To disable forwarding uplink messages from your gateway to Packet Broker in The Things Stack Console, navigate to the <strong>General settings</strong> tab on the left hand menu in your gateway&rsquo;s overview, scroll to the bottom of the <strong>Basic settings</strong> section and tick the <strong>Disabled</strong> box under <strong>Packet Broker</strong> option.</p>
<figure><img src="pb-forwarding.png"
         alt="Forwarding uplinks to Packet Broker"/>
</figure>

<p>To disable forwarding uplink messages from your gateways to Packet Broker using the CLI, use the following command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ttn-lw-cli gateways <span class="nb">set</span> <span class="nv">$GTW_ID</span> --disable-packet-broker-forwarding
</span></span></code></pre></div><p>Keep in mind that changes will apply only after restarting the gateway.</p>
        </div>
        
          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/gateways/concepts/">← Concepts</a>
<a class="button is-pulled-right" href="/docs/gateways/concepts/gateway-claiming/">Gateway Claiming →</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#adding-gateways-using-the-console'>Adding Gateways using the Console</a></li>
    
      
      <li><a href='#adding-gateways-using-the-cli'>Adding Gateways using the CLI</a></li>
    
      
      <li><a href='#create-gateway-api-key'>Create Gateway API Key</a></li>
    
      
      <li><a href='#set-gateway-location'>Set Gateway Location</a></li>
    
      
      <li><a href='#set-gateway-antenna-gain'>Set Gateway Antenna Gain</a></li>
    
      
      <li><a href='#forwarding-uplinks-to-packet-broker'>Forwarding Uplinks to Packet Broker</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/the-things-stack/">The Things Stack</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/ttn-network/v3/90">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Krishna Iyer on 19 Apr 2023.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/7b36a78abab91e6a6967b41f03b65551a89e54c9">
      Restructure documentation (#1076)
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/gateways/concepts/adding-gateways/_index.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.4a22f0dea0620048bc258cf6dedbdfbec40f3b5dba1dcdc6536e61e7bc20a5bf.js" integrity="sha256-SiLw3qBiAEi8JYz23tvfvsQPO126Hc3GU25h57wgpb8=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
