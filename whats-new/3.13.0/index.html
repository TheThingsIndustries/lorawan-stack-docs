<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>3.13.0 | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/whats-new/3.13.0/" />
  <link rel="alternate icon" href="/docs/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.448201dae984e04b2579a9ee482b5768bcd23d222184681e69f3a8b1146f3bb2.css" integrity="sha256-RIIB2umE4EsleanuSCtXaLzSPSIhhGgeafOosRRvO7I=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="The Things Stack for LoRaWAN">
  <meta name="keywords" content="">
  <meta itemprop="name" content="3.13.0">
  <meta itemprop="description" content="The Things Stack for LoRaWAN">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="3.13.0">
  <meta property="og:description" content="The Things Stack for LoRaWAN">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/whats-new/3.13.0/">
  <meta name="twitter:title" content="3.13.0" />
  <meta name="twitter:description" content="The Things Stack for LoRaWAN" />
  <meta name="twitter:card" content="summary" />
</head>
<body><nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.13</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>
      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/docs/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav>
<section class="search-container">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column">
          <div class="field has-addons has-addons-centered">
            <div class="control">
              <input class="input search-bar" id="search-input" type="text" placeholder="Search" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: "4372282a02970d8402d43457bf95d486",
indexName: "thethingsstack",
inputSelector: '#search-input',
debug: false 
});
</script>
<div class="container" role="document">
  <div class="columns my-0">
      <div class="column is-one-fifth-tablet is-one-third sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Release Notes</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/whats-new/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.13.0/" class="is-active">3.13.0</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.12.3/" class="">3.12.3</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.12.2/" class="">3.12.2</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.12.1/" class="">3.12.1</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.12.0/" class="">3.12.0</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.11.3/" class="">3.11.3</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.11.2/" class="">3.11.2</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.11.1/" class="">3.11.1</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.11.0/" class="">3.11.0</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.8/" class="">3.10.8</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.7/" class="">3.10.7</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.6/" class="">3.10.6</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.5/" class="">3.10.5</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.4/" class="">3.10.4</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.3/" class="">3.10.3</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.2/" class="">3.10.2</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.1/" class="">3.10.1</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/whats-new/3.10.0/" class="">3.10.0</a>
  </li>
</ul>



</nav>








      </div>
      <div class="column sidebar-middle">
<div class="docs-content">
<h1 class="title is-size-2">3.13.0
</h1>

<div class="content">
  <h3 id="added">Added</h3>
<ul>
<li>Searching Packet Broker networks with <code>--tenant-id-contains</code> and <code>--name-contains</code> flags.</li>
<li>Listing all listed Packet Broker networks with <code>ttn-lw-cli packetbroker networks list</code>.</li>
<li>Include end device version identifiers in upstream messages (see <code>uplink_message.version_ids.brand_id</code>, <code>uplink_message.version_ids.model_id</code>, <code>uplink_message.version_ids.firmware_version</code>, <code>uplink_message.version_ids.hardware_version</code> and <code>uplink_message.version_ids.band_id</code> fields).</li>
<li>Reporting uplink and downlink message delivery state changes to Packet Broker. This will be used for statistical purposes (e.g. which message is processed successfully or why it errored) as well as LoRaWAN roaming (the <code>XmitDataAns</code> result code).</li>
<li>Setting API key expiry via <code>--api-key-expiry</code> flag using RFC3339 format.</li>
<li>Events storage in the Redis events backend. This can be enabled with the new <code>events.redis.store.enable</code> option. The new options <code>events.redis.store.ttl</code>, <code>events.redis.store.entity-ttl</code>, <code>events.redis.store.entity-count</code> and <code>events.redis.store.correlation-id-count</code> can be used to configure retention.</li>
<li>RPC to find related events by correlation ID.</li>
<li>CLI command <code>events find-related</code>.</li>
<li>Support for loading Device Repository profiles from different vendors if specified. This allows reusing standard end device profiles from module makers and LoRaWAN end device stack vendors.</li>
<li>Filtering out verbose events in the event views in the Console.</li>
<li>The <code>gs.up.forward</code> event now includes the host an uplink was forwarded to.</li>
<li>Previews for <code>*.update</code> events in the Console.</li>
<li>The Console can now show recent historical events in networks that have events storage enabled.</li>
</ul>
<h3 id="changed">Changed</h3>
<ul>
<li>User IDs now have a minimum length of 2 instead of 3, so that more users coming from v2 can keep their username.</li>
<li>Disabled device uplink simulation and downlink message sending when skipping payload crypto.</li>
<li>The UpdateAPIKey RPCs now take a fieldmask.</li>
<li>The Gateway Server no longer sends <code>gs.up.drop</code> event if the Network Server does not handle an uplink message, or if the uplink does not match the DevAddr prefix of an upstream.</li>
<li>Maximum size for user-defined payload formatter scripts.
<ul>
<li>The default cap is at 4KB, see the new <code>as.formatters.max-parameter-length</code> config option.</li>
<li>A maximum cap of 16KB per script is set at the API level.</li>
<li>This only prevents setting large payload formatter scripts for new devices and applications; it does not remove payload formatters from existing applications and devices. Scripts sourced from the Device Repository are not affected. See <a href="https://github.com/TheThingsNetwork/lorawan-stack/issues/4053">issue #4053</a> for more context on this change.</li>
</ul>
</li>
</ul>
<h3 id="deprecated">Deprecated</h3>
<h3 id="removed">Removed</h3>
<ul>
<li>The <code>gs.status.forward</code> event.</li>
</ul>
<h3 id="fixed">Fixed</h3>
<ul>
<li>OAuth token exchange for OAuth clients that use Basic auth.</li>
<li>The CLI now properly returns a non-zero exit status code on invalid commands.</li>
<li>Gateway connection requests with zero EUI are rejected.</li>
<li>End device payload formatter reset to <code>FORMATTER_NONE</code> in the Console.</li>
</ul>
<h3 id="security">Security</h3>

</div>

<script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
</div>

      </div>
      <div class="column is-hidden-touch is-one-quarter is-one-fifth-widescreen sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    



  </nav>

      </div>
  </div>
</div>


<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Nejra on 20 May 2021.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/5c207dfdb76ac49f718e4a45c729f19c82f55c10">
      doc: Release docs v3.13.0
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/whats-new/3.13.0.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.af1cdce2271a42369c7c022fb683df665bf882e1fdc766a89a6ee99196bc4f9e.js" integrity="sha256-rxzc4icaQjacfAIvtoPfZlv4guH9x2aomm7pkZa8T54=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
