<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.112.3">
  <title>Google Single Sign On | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/reference/federated-auth/oidc/google/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.5ba0be8f5f0e953584382f5875ae6ec65f7a9a9cda0dea27bd9ddb1025d10fa5.css" integrity="sha256-W6C&#43;j18OlTWEOC9Yda5uxl96mpzaDeonvZ3bECXRD6U=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Google Single Sign On">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Google Single Sign On">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/reference/federated-auth/oidc/google/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="Google Single Sign On" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.7.2/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/the-things-stack/">The Things Stack</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>
        <a class="navbar-item" href="/docs/api/">API</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Reference</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/reference/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/adr/" class="">Adaptive Data Rate</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/application-packages/" class="">Application Packages</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/stripe/" class="">Billing with Stripe</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/cli/" class="">Command-Line Interface</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/components/" class="">Components</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/" class="">Configuration</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/data-retention/" class="">Data Retention and Privacy</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/device-claiming-repository/" class="">Device Claiming Configuration</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/email-templates/" class="">Email Templates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/" class="">Federated Authentication</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/oidc/" class="">OpenID Connect</a>
    
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/oidc/google/" class="is-active">Google Single Sign On</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/oidc/microsoft-entra/" class="">Microsoft Entra</a>
    
  </li>

</ul>


    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/frequency-plans/" class="">Frequency Plans</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/fuota/" class="">FUOTA</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/gateway-rtt/" class="">Gateway RTT</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/glossary/" class="">Glossary</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/id-eui-constraints/" class="">ID and EUI Constraints</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/last-activity/" class="">Last Activity</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/lbs/" class="">LoRa Basics Station Implementation Guide</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/interop-repository/" class="">LoRaWAN Join Server Configuration</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/pb-routing/" class="">Packet Broker Routing</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/packet-forwarder/" class="">Packet Forwarders</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/rate-limiting/" class="">Rate Limiting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/resource-limiting/" class="">Resource Limiting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/root-certificates/" class="">Root Certificates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/telemetry/" class="">Telemetry</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/ttn/" class="">The Things Network</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Google Single Sign On
          
        </h1>
        
        <h2 class="subtitle">
          
            
            





  
    
  



  

<a href="/docs/getting-started/what-is-tts#the-things-stack-deployments" target="_blank" class="badge-stack has-tooltip has-tooltip-arrow has-tooltip-light" data-tooltip="Enterprise Only">

  <img class="badge" src="/docs/img/tts_frames/frame_enterprise.svg"></img>

</a>


          
          
          
          
        </h2>
        
        <div class="content">
          <p><a href="https://developers.google.com/identity/openid-connect/openid-connect">Google&rsquo;s OAuth 2.0 APIs</a> are OpenID certified and can be used to log into The Things Stack.
This page guides you with the necessary steps to login to The Things Stack using your Google account.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>A <a href="https://cloud.google.com/">Google Cloud</a> account with access to create credentials.</li>
<li>A The Things Stack account with admin rights.</li>
<li>The Things Stack Enterprise command line interface (<code>tti-lw-cli</code>).</li>
<li>Choose a Provider ID (ex: <code>google</code>). It must be between 3 and 36 characters and can only contain lower-case alphanumeric letters and dashes. Multiple, leading and/or trailing dashes are not allowed.</li>
</ol>
<h2 id="configuring-the-provider-in-google-cloud-console">Configuring the Provider in Google Cloud Console</h2>
<p>Log into the <a href="https://console.cloud.google.com">Google Cloud Console</a> and switch to the the required project.</p>
<p>Setup an <a href="https://console.cloud.google.com/apis/credentials/consent">OAuth Consent Screen</a> if you don&rsquo;t have one already. Follow the instructions provided. Only the mandatory fields are required to be filled here.</p>
<p>Create <a href="https://console.developers.google.com/apis/credentials">API credentials</a> of type <strong>Oauth Client ID</strong>. The values are</p>
<ul>
<li><strong>Application Type</strong>: <code>Web Application</code>.</li>
<li><strong>Name</strong>: A descriptive name.</li>
<li><strong>Redirect URL</strong>: This should be of the form <code>https://&lt;server-address&gt;/oauth/login/&lt;provider-id&gt;/callback</code>. <code>server-address</code> is the address where The Things Stack is hosted.</li>
</ul>
<p>Once the client is created, Google will create a Client ID and Client Secret and will display that on the screen. Copy these values somewhere safely. You can also access these values at a later point</p>
<p>We can now use this information to register the provider in The Things Stack.</p>
<h2 id="registering-the-provider-in-the-things-stack">Registering the Provider in The Things Stack</h2>
<p>Login to The Things Stack via the CLI.</p>
<p>Register the provider. Set the following values</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">OIDC_PROVIDER_ID</span><span class="o">=</span><span class="s2">&#34;provider ID&#34;</span>                  <span class="c1"># Provider ID from above.</span>
</span></span><span class="line"><span class="cl"><span class="nv">OIDC_PROVIDER_NAME</span><span class="o">=</span><span class="s2">&#34;My OIDC Provider&#34;</span>           <span class="c1"># Name used to display on the Console.</span>
</span></span><span class="line"><span class="cl"><span class="nv">OIDC_CLIENT_ID</span><span class="o">=</span><span class="s2">&#34;client123&#34;</span>                      <span class="c1"># Client ID from the previous step.</span>
</span></span><span class="line"><span class="cl"><span class="nv">OIDC_CLIENT_SECRET</span><span class="o">=</span><span class="s2">&#34;secret123&#34;</span>                  <span class="c1"># Client Secret from the previous step.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ tti-lw-cli ap create <span class="nv">$OIDC_PROVIDER_ID</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --name <span class="nv">$OIDC_PROVIDER_NAME</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --allow-registrations <span class="nb">true</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --configuration.provider.oidc.client-id <span class="nv">$OIDC_CLIENT_ID</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --configuration.provider.oidc.client-secret <span class="nv">$OIDC_CLIENT_SECRET</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --configuration.provider.oidc.provider-url https://accounts.google.com
</span></span></code></pre></div><p>Note that the <code> --configuration.provider.oidc.provider-url</code> is hardcoded to <code>https://accounts.google.com</code>.</p>
<p>An example response is shown below.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;ids&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;provider_id&#34;</span>: <span class="s2">&#34;provider ID&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;created_at&#34;</span>: <span class="s2">&#34;2023-10-05T05:18:11.685215Z&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;updated_at&#34;</span>: <span class="s2">&#34;2023-10-05T05:18:11.685215Z&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;name&#34;</span>: <span class="s2">&#34;My OIDC Provider&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;allow_registrations&#34;</span>: true,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;configuration&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;oidc&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;client_id&#34;</span>: <span class="s2">&#34;client123&#34;</span>,
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;client_secret&#34;</span>: <span class="s2">&#34;secret123&#34;</span>,
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;provider_url&#34;</span>: <span class="s2">&#34;https://accounts.google.com&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>Head to the Login page of The Things Stack console. A button <strong>Login to &lt;name&gt;</strong> should be present, where <code>&lt;name&gt;</code> is the same as the <code>OIDC_PROVIDER_NAME</code>.</p>
<p>Click on this button. This will redirect you to the Google Sign in page. You will be asked to authorize The Things Stack to read some basic user information. Select <code>Allow</code>. This is only for the first login attempt.</p>
<p>If all your configuration is correct, you will now be redirected to The Things Stack console and you will be logged in. The username is chosen based on the rules explained in the <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/oidc/#generating-usernames">generating usernames</a> section.</p>
        </div>
        <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/reference/federated-auth/oidc/">← OpenID Connect</a>
<a class="button is-pulled-right" href="/docs/reference/federated-auth/oidc/microsoft-entra/">Microsoft Entra →</a>
</div>

        <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#prerequisites'>Prerequisites</a></li>
    
      
      <li><a href='#configuring-the-provider-in-google-cloud-console'>Configuring the Provider in Google Cloud Console</a></li>
    
      
      <li><a href='#registering-the-provider-in-the-things-stack'>Registering the Provider in The Things Stack</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-third">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/the-things-stack/">The Things Stack</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
        <p><a class="" href="/docs/api/">API</a></p>
      </nav>
      <nav class="column is-one-third">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
      </nav>
      
      <nav class="column is-one-third">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.4a22f0dea0620048bc258cf6dedbdfbec40f3b5dba1dcdc6536e61e7bc20a5bf.js" integrity="sha256-SiLw3qBiAEi8JYz23tvfvsQPO126Hc3GU25h57wgpb8=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
