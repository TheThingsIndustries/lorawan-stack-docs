<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>End Device Claiming APIs | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://thethingsstack.io/reference/api/end_device_claiming/" />
  <link rel="alternate icon" href="/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="https://thethingsstack.io/css/theme.min.66449bb2268d8e98cc8bb71b21b0d8ce772c3f2331b05fc270c33e2edb776017.css" integrity="sha256-ZkSbsiaNjpjMi7cbIbDYzncsPyMxsF/CcMM&#43;Ltt3YBc="><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="End Device Claiming APIs">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="End Device Claiming APIs">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://thethingsstack.io/reference/api/end_device_claiming/">
  <meta name="twitter:title" content="End Device Claiming APIs" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img class="logo" src="/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.10</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/devices/">Devices</a>
        <a class="navbar-item" href="/gateways/">Gateways</a>
        <a class="navbar-item" href="/integrations/">Integrations</a>
        <a class="navbar-item" href="/reference/">Reference</a>
      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav>
<section class="search-container">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column">
          <div class="field has-addons has-addons-centered">
            <div class="control">
              <input class="input search-bar" id="search-input" type="text" placeholder="Search" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: "4372282a02970d8402d43457bf95d486",
indexName: "thethingsstack",
inputSelector: '#search-input',
debug: false 
});
</script>

<main>
<section class="section">
  <div class="container">
    <div class="columns">
      
      <div class="column is-one-third">


<h2 class="title is-size-4">API</h2>

<ul class="menu-list">
<a href="https://thethingsstack.io/reference/api/" class="">Overview</a>
<li>
  <a href="https://thethingsstack.io/reference/api/authentication/" class="">Authentication</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/application/" class="">Application APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/application_pub_sub/" class="">Application Pub/Sub APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/application_server/" class="">Application Server APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/application_webhooks/" class="">Application Webhook APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/end_device/" class="">End Device APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/end_device_claiming/" class="is-active">End Device Claiming APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/events/" class="">Events API</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/gateway/" class="">Gateway APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/gateway_server/" class="">Gateway Server APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/gateway_server_mqtt/" class="">Gateway Server MQTT</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/network_server/" class="">Network Server APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/organization/" class="">Organization APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/storage_integration/" class="">Storage Integration API</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/tenant/" class="">Tenant APIs</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/api/user/" class="">User APIs</a>
</li>
</ul>





      </div>
      
      <div class="column is-two-thirds">

<h1 class="title is-size-2">End Device Claiming APIs</h1>

<div class="content">

<h2 id="the-enddeviceclaimingserver-service">The <code>EndDeviceClaimingServer</code> service</h2>

<table>
  <tbody>
    <tr>
      <th style="width: 150px">
        Method
      </th>
      <td>
        <code>EndDeviceClaimingServer.AuthorizeApplication</code>
      </td>
    </tr>
    <tr>
      <th>
        Request type
      </th>
      <td>
        <a href="#message:AuthorizeApplicationRequest"><code>AuthorizeApplicationRequest</code></a>
        
      </td>
    </tr>
    <tr>
      <th>
        Response type
      </th>
      <td>
        <code>google.protobuf.Empty</code>
        
      </td>
    </tr>
    <tr>
      <th>
        HTTP bindings
      </th>
      <td>
        <p><code>POST</code> <code>/api/v3/edcs/applications/{application_ids.application_id}/authorize</code></p>
      </td>
    </tr>
  </tbody>
</table>


<table>
  <tbody>
    <tr>
      <th style="width: 150px">
        Method
      </th>
      <td>
        <code>EndDeviceClaimingServer.UnauthorizeApplication</code>
      </td>
    </tr>
    <tr>
      <th>
        Request type
      </th>
      <td>
        <a href="#message:ApplicationIdentifiers"><code>ApplicationIdentifiers</code></a>
        
      </td>
    </tr>
    <tr>
      <th>
        Response type
      </th>
      <td>
        <code>google.protobuf.Empty</code>
        
      </td>
    </tr>
    <tr>
      <th>
        HTTP bindings
      </th>
      <td>
        <p><code>DELETE</code> <code>/api/v3/edcs/applications/{application_id}/authorize</code></p>
      </td>
    </tr>
  </tbody>
</table>


<table>
  <tbody>
    <tr>
      <th style="width: 150px">
        Method
      </th>
      <td>
        <code>EndDeviceClaimingServer.Claim</code>
      </td>
    </tr>
    <tr>
      <th>
        Description
      </th>
      <td>
        Claims the end device by claim authentication code or QR code and transfers the device to the target application.
      </td>
    </tr>
    <tr>
      <th>
        Request type
      </th>
      <td>
        <a href="#message:ClaimEndDeviceRequest"><code>ClaimEndDeviceRequest</code></a>
        
      </td>
    </tr>
    <tr>
      <th>
        Response type
      </th>
      <td>
        <a href="#message:EndDeviceIdentifiers"><code>EndDeviceIdentifiers</code></a>
        
      </td>
    </tr>
    <tr>
      <th>
        HTTP bindings
      </th>
      <td>
        <p><code>POST</code> <code>/api/v3/edcs/claim</code></p>
      </td>
    </tr>
  </tbody>
</table>

<h2 id="messages">Messages</h2>
<h3 id="message:ApplicationIdentifiers">Message <code>ApplicationIdentifiers</code></h3>

<table>
  <thead>
    <tr>
      <th style="width: 175px">Field</th>
      <th style="width: 250px">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>application_id</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p><code>max_len</code>: <code>36</code></p>
          <p><code>pattern</code>: <code>^[a-z0-9](?:[-]?[a-z0-9]){2,}$</code></p>
      </td>
    </tr>
  </tbody>
</table>

<details><summary>Show object example</summary>
<pre><code>{
  "application_id": "",
}</code></pre>
</details>

<h3 id="message:AuthorizeApplicationRequest">Message <code>AuthorizeApplicationRequest</code></h3>

<table>
  <thead>
    <tr>
      <th style="width: 175px">Field</th>
      <th style="width: 250px">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>application_ids</code>
      </td>
      <td><a href="#message:ApplicationIdentifiers"><code>ApplicationIdentifiers</code></a></td>
      <td>
          <p><code>required</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>api_key</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p><code>min_len</code>: <code>1</code></p>
      </td>
    </tr>
  </tbody>
</table>

<details><summary>Show object example</summary>
<pre><code>{
  "application_ids": {},
  "api_key": "",
}</code></pre>
</details>

<h3 id="message:ClaimEndDeviceRequest">Message <code>ClaimEndDeviceRequest</code></h3>

<table>
  <thead>
    <tr>
      <th style="width: 175px">Field</th>
      <th style="width: 250px">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>authenticated_identifiers</code>
      </td>
      <td><a href="#message:ClaimEndDeviceRequest.AuthenticatedIdentifiers"><code>ClaimEndDeviceRequest.AuthenticatedIdentifiers</code></a></td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>qr_code</code>
      </td>
      <td><code>bytes</code></td>
      <td>
          <p><code>max_len</code>: <code>1024</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_application_ids</code>
      </td>
      <td><a href="#message:ApplicationIdentifiers"><code>ApplicationIdentifiers</code></a></td>
      <td>
          <p>Application identifiers of the target end device.</p>
          <p><code>required</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_device_id</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p>End device ID of the target end device. If empty, use the source device ID.</p>
          <p><code>max_len</code>: <code>36</code></p>
          <p><code>pattern</code>: <code>^[a-z0-9](?:[-]?[a-z0-9]){2,}$|^$</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_network_server_address</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p>The address of the Network Server where the device will be registered.
If set and if the source device is currently registered on a Network Server, settings will be transferred.
If not set, the device shall not be registered on a Network Server.</p>
          <p><code>pattern</code>: <code>^(?:(?:[a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*(?:[A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])(?::[0-9]{1,5})?$|^$</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_network_server_kek_label</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p>The KEK label of the Network Server to use for wrapping network session keys.</p>
          <p><code>max_len</code>: <code>2048</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_application_server_address</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p>The address of the Application Server where the device will be registered.
If set and if the source device is currently registered on an Application Server, settings will be transferred.
If not set, the device shall not be registered on an Application Server.</p>
          <p><code>pattern</code>: <code>^(?:(?:[a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*(?:[A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])(?::[0-9]{1,5})?$|^$</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_application_server_kek_label</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p>The KEK label of the Application Server to use for wrapping the application session key.</p>
          <p><code>max_len</code>: <code>2048</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_application_server_id</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p>The AS-ID of the Application Server to use.</p>
          <p><code>max_len</code>: <code>100</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>target_net_id</code>
      </td>
      <td><code>bytes</code></td>
      <td>
          <p>Home NetID.</p>
      </td>
    </tr>
    <tr>
      <td>
        <code>invalidate_authentication_code</code>
      </td>
      <td><code>bool</code></td>
      <td>
          <p>If set, invalidate the authentication code with which the device gets claimed. This prohibits subsequent claiming requests.</p>
      </td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <th>Restrictions</th>
  </thead>
  <tbody>
    <tr>
      <td>
        Only one of <code>authenticated_identifiers</code>, <code>qr_code</code> can be set.
      </td>
    </tr>
  </tbody>
</table>

<details><summary>Show object example</summary>
<pre><code>{
  "authenticated_identifiers": {},
  "qr_code": "",
  "target_application_ids": {},
  "target_device_id": "",
  "target_network_server_address": "",
  "target_network_server_kek_label": "",
  "target_application_server_address": "",
  "target_application_server_kek_label": "",
  "target_application_server_id": "",
  "target_net_id": "",
  "invalidate_authentication_code": false,
}</code></pre>
</details>

<h3 id="message:ClaimEndDeviceRequest.AuthenticatedIdentifiers">Message <code>ClaimEndDeviceRequest.AuthenticatedIdentifiers</code></h3>

<table>
  <thead>
    <tr>
      <th style="width: 175px">Field</th>
      <th style="width: 250px">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>join_eui</code>
      </td>
      <td><code>bytes</code></td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>dev_eui</code>
      </td>
      <td><code>bytes</code></td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>authentication_code</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p><code>pattern</code>: <code>^[A-Z0-9]{1,32}$</code></p>
      </td>
    </tr>
  </tbody>
</table>

<details><summary>Show object example</summary>
<pre><code>{
  "join_eui": "",
  "dev_eui": "",
  "authentication_code": "",
}</code></pre>
</details>

<h3 id="message:EndDeviceIdentifiers">Message <code>EndDeviceIdentifiers</code></h3>

<table>
  <thead>
    <tr>
      <th style="width: 175px">Field</th>
      <th style="width: 250px">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>device_id</code>
      </td>
      <td><code>string</code></td>
      <td>
          <p><code>max_len</code>: <code>36</code></p>
          <p><code>pattern</code>: <code>^[a-z0-9](?:[-]?[a-z0-9]){2,}$</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>application_ids</code>
      </td>
      <td><a href="#message:ApplicationIdentifiers"><code>ApplicationIdentifiers</code></a></td>
      <td>
          <p><code>required</code></p>
      </td>
    </tr>
    <tr>
      <td>
        <code>dev_eui</code>
      </td>
      <td><code>bytes</code></td>
      <td>
          <p>The LoRaWAN DevEUI.</p>
      </td>
    </tr>
    <tr>
      <td>
        <code>join_eui</code>
      </td>
      <td><code>bytes</code></td>
      <td>
          <p>The LoRaWAN JoinEUI (AppEUI until LoRaWAN 1.0.3 end devices).</p>
      </td>
    </tr>
    <tr>
      <td>
        <code>dev_addr</code>
      </td>
      <td><code>bytes</code></td>
      <td>
          <p>The LoRaWAN DevAddr.</p>
      </td>
    </tr>
  </tbody>
</table>

<details><summary>Show object example</summary>
<pre><code>{
  "device_id": "",
  "application_ids": {},
  "dev_eui": "",
  "join_eui": "",
  "dev_addr": "",
}</code></pre>
</details>


</div>

<script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
<div class="is-clearfix">
<a class="button is-pulled-left" href="/reference/api/end_device/">← End Device APIs</a>
<a class="button is-pulled-right" href="/reference/api/events/">Events API →</a>
</div>


      </div>
    </div>
  </div>
</section>
</main>

<footer class="footer background-footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/getting-started/">Getting Started</a></p>
        <p><a class="" href="/devices/">Devices</a></p>
        <p><a class="" href="/gateways/">Gateways</a></p>
        <p><a class="" href="/integrations/">Integrations</a></p>
        <p><a class="" href="/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Johan Stokking on 02 Apr 2020.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/0bfd8061210d89dd96bc8278612de6b886b875b3">
      doc: Remove weights
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/api/end_device_claiming.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://thethingsstack.io/js/theme.min.4feb1389331adbef9047157f884dbdbd63af1c61ac83f327e60eef42f999cb26.js" integrity="sha256-T&#43;sTiTMa2&#43;&#43;QRxV/iE29vWOvHGGsg/Mn5g7vQvmZyyY="></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
