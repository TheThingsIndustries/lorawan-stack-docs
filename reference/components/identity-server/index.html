<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>Identity Server | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://thethingsstack.io/reference/components/identity-server/" />
  <link rel="alternate icon" href="/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="https://thethingsstack.io/css/theme.min.7e530cf1a395e490eedf7a71db02b2579c54e37dd96a1c7fb2ed3406d901561b.css" integrity="sha256-flMM8aOV5JDu33px2wKyV5xU433Zahx/su00BtkBVhs="><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Identity Server">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Identity Server">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://thethingsstack.io/reference/components/identity-server/">
  <meta name="twitter:title" content="Identity Server" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img class="logo" src="/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.10</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/devices/">Devices</a>
        <a class="navbar-item" href="/gateways/">Gateways</a>
        <a class="navbar-item" href="/integrations/">Integrations</a>
        <a class="navbar-item" href="/reference/">Reference</a>
      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav>
<section class="search-container">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column">
          <div class="field has-addons has-addons-centered">
            <div class="control">
              <input class="input search-bar" id="search-input" type="text" placeholder="Search" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: "4372282a02970d8402d43457bf95d486",
indexName: "thethingsstack",
inputSelector: '#search-input',
debug: false 
});
</script>

<main>
<section class="section">
  <div class="container">
    <div class="columns">
      
      <div class="column is-one-third">


<h2 class="title is-size-4">Components</h2>

<ul class="menu-list">
<a href="https://thethingsstack.io/reference/components/" class="">Overview</a>
<li>
  <a href="https://thethingsstack.io/reference/components/application-server/" class="">Application Server</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/cli/" class="">Command-line Interface</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/console/" class="">Console</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/device-template-converter/" class="">Device Template Converter</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/gateway-configuration-server/" class="">Gateway Configuration Server</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/gateway-server/" class="">Gateway Server</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/identity-server/" class="is-active">Identity Server</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/join-server/" class="">Join Server</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/network-server/" class="">Network Server</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/packet-broker-agent/" class="">Packet Broker Agent</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/qr-code-generator/" class="">QR Code Generator</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/components/tenant-billing-server/" class="">Tenant Billing Server</a>
</li>
</ul>





      </div>
      
      <div class="column is-two-thirds">

<h1 class="title is-size-2">Identity Server</h1>

<div class="content">

<p>The Identity Server provides the registries that store entities such as applications with their end devices, gateways, users, organizations, OAuth clients and authentication providers. It also manages access control through memberships and API keys.</p>
<h2 id="entity-registries">Entity Registries</h2>
<p>The entity registries store common information about all major entities in The Things Stack. This includes a name, description, and attributes (user-defined key-value pairs).</p>
<h3 id="users">Users</h3>
<p>The first entity registered in the Identity Server is usually the admin user. Users can register by providing an email address and choosing a user ID and password. This information can later be used to login.</p>
<p>The user ID is the unique identifier of a user. User IDs are in the same namespace as organization IDs. This means that it is not possible to create a user with the same ID as an existing organization. For security reasons it is also not possible to re-use the ID of a deleted user or organization.</p>
<p>Users can be &ldquo;admin&rdquo;, which gives them elevated privileges. The normal registration process does not allow users to register as admin, which is why the <a href="https://thethingsstack.io/getting-started/">Getting Started guide</a> creates the admin user with a different command.</p>
<p>Users can be in one of multiple states: requested, approved, rejected, suspended, etc. The state of a user determines if the user is able to perform actions, and which actions. Normally, users are in the &ldquo;approved&rdquo; state. If The Things Stack is configured to require admin approval for new users, users are initially in the &ldquo;requested&rdquo; state, and an admin user can update them to the &ldquo;approved&rdquo; or &ldquo;rejected&rdquo; state. Users can also be suspended by admins if they misbehave.</p>
<h3 id="gateways">Gateways</h3>
<p>Gateways can be registered by choosing an ID and optionally registering the EUI of the gateway. After registration, an API key can be created; the gateway can use its ID (or EUI) together with that API key to authenticate with the The Things Stack.</p>
<p>For correct operation of the gateway, it is important to set the frequency plan ID and set whether the gateway needs to be compliant with a duty cycle.</p>
<p>If the gateway is capable of communicating with a <a href="/reference/components/gateway-configuration-server/">Gateway Configuration Server</a>, the Gateway Server address, and firmware update settings can be set in the gateway registry.</p>
<p>The gateway registry also stores information about the antenna(s) of the gateway, such as location and gain.</p>
<p>For more details, see the the <a href="https://thethingsstack.io/reference/api/gateway/">gateway API reference</a>.</p>
<h3 id="applications">Applications</h3>
<p>Applications are used to organize registrations and traffic of multiple end devices in once place. An application typically corresponds to a collection of end devices that are in the same deployment, or of the same type.</p>
<p>For more details, see the the <a href="https://thethingsstack.io/reference/api/application/">application API reference</a>.</p>
<h3 id="end-devices">End Devices</h3>
<p>The end device registry in the Identity Server stores only metadata of end devices, allowing clients such as the Console and CLI to list end devices in an application. It typically stores metadata about the brand, model, hardware, firmware and location of the end device. It also stores addresses of the Network Server, Application Server and Join Server, so that clients such as the Console and CLI know where other properties of the end device are stored.</p>
<p>For more details, see the the <a href="https://thethingsstack.io/reference/api/end_device/">end device API reference</a>.</p>
<h3 id="organizations">Organizations</h3>
<p>Organizations are used to create groups of multiple users, and easily assign rights to the entire group of users.</p>
<p>The organization ID is the unique identifier of a organization. Organization IDs are in the same namespace as user IDs. This means that it is not possible to create an organization with the same ID as an existing user. For security reasons it is also not possible to re-use the ID of a deleted user or organization.</p>
<h3 id="oauth-clients">OAuth Clients</h3>
<p>It is possible to register external OAuth clients in the OAuth registries. OAuth clients are registered with a client ID and secret.</p>
<p>As with users, OAuth clients can be in one of multiple states. OAuth clients created by non-admin users need to be approved by an admin user.</p>
<p>Official OAuth clients can be marked as &ldquo;endorsed&rdquo;, or can be pre-authorized for all users.</p>
<h3 id="authentication-providers">Authentication Providers</h3>
<p>Federated authentication providers can be registered in the authentication provider registries. Authentication providers are registered with an ID, name and provider configuration.</p>
<p>The authentication providers are used to allow the Identity Server to obtain the identity of a user from an external identity provider, such as an <a href="https://openid.net/connect/">OpenID Connect</a> provider.</p>
<h2 id="entity-access">Entity Access</h2>
<p>The Identity Server is responsible for access control to entities.</p>
<h3 id="memberships">Memberships</h3>
<p>Memberships define the rights that a user or organization has on another entity. The simplest membership is one where a user is a direct member (or collaborator) of an application or gateway. The rights of a membership indicate what the user is allowed to do with the application or gateway.</p>
<p>An indirect membership means that a user is a member of an organization, and the organization is a member of an application or gateway. In this case, the rights of the user-organization membership and the organization-application or organization-gateway membership are intersected in order to compute the effective rights of the user.</p>
<h3 id="api-keys">API Keys</h3>
<p>With most entities it is possible to create API keys. These API keys allow you to call APIs on behalf of the entity. API keys do not expire, but it is possible to revoke an API key.</p>
<p>API keys have associated rights. This means that it is possible to create for instance an <em>Application API key</em> that can be used to read information about end devices, but not see the root keys, and not make changes.</p>
<p>It is possible to combine memberships and API keys, so you can for instance create an <em>Organization API key</em> with the right to list the applications where the organization is a member, and the right to read information about end devices in these applications.</p>
<h2 id="oauth">OAuth</h2>
<p>The Identity Server is an OAuth 2.0 server. Users can authorize OAuth clients to access their data, manage authorizations, and even manage individual access tokens.</p>
</div>

<script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
<div class="is-clearfix">
<a class="button is-pulled-left" href="/reference/components/gateway-server/">← Gateway Server</a>
<a class="button is-pulled-right" href="/reference/components/join-server/">Join Server →</a>
</div>


      </div>
    </div>
  </div>
</section>
</main>

<footer class="footer background-footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/getting-started/">Getting Started</a></p>
        <p><a class="" href="/devices/">Devices</a></p>
        <p><a class="" href="/gateways/">Gateways</a></p>
        <p><a class="" href="/integrations/">Integrations</a></p>
        <p><a class="" href="/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Adrian-Stefan Mares on 28 Aug 2020.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/655b3f094f64b969998c6b147a174a4878bc5649">
      doc: Add federated authentication
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/components/identity-server.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://thethingsstack.io/js/theme.min.4feb1389331adbef9047157f884dbdbd63af1c61ac83f327e60eef42f999cb26.js" integrity="sha256-T&#43;sTiTMa2&#43;&#43;QRxV/iE29vWOvHGGsg/Mn5g7vQvmZyyY="></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
