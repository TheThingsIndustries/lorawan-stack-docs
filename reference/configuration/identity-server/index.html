<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>Identity Server Options | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://thethingsstack.io/reference/configuration/identity-server/" />
  <link rel="alternate icon" href="/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="https://thethingsstack.io/css/theme.min.cfc828cf25058c21e931fe626d67f57f507e9b4dd2a9b3628bde644419747477.css" integrity="sha256-z8gozyUFjCHpMf5ibWf1f1B&#43;m03SqbNii95kRBl0dHc="><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Identity Server Options">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Identity Server Options">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://thethingsstack.io/reference/configuration/identity-server/">
  <meta name="twitter:title" content="Identity Server Options" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img class="logo" src="/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.10</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/devices/">Devices</a>
        <a class="navbar-item" href="/gateways/">Gateways</a>
        <a class="navbar-item" href="/integrations/">Integrations</a>
        <a class="navbar-item" href="/reference/">Reference</a>
      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav>
<section class="search-container">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column">
          <div class="field has-addons has-addons-centered">
            <div class="control">
              <input class="input search-bar" id="search-input" type="text" placeholder="Search" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: "4372282a02970d8402d43457bf95d486",
indexName: "thethingsstack",
inputSelector: '#search-input',
debug: false 
});
</script>

<main>
<section class="section">
  <div class="container">
    <div class="columns">
      
      <div class="column is-one-third">


<h2 class="title is-size-4">Configuration</h2>

<ul class="menu-list">
<a href="https://thethingsstack.io/reference/configuration/" class="">Overview</a>
<li>
  <a href="https://thethingsstack.io/reference/configuration/the-things-stack/" class="">General Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/tenant-billing-server/" class="">Tenant Billing Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/application-server/" class="">Application Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/cli/" class="">Command-Line Interface Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/console/" class="">Console Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/device-claiming-server/" class="">Device Claiming Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/gateway-configuration-server/" class="">Gateway Configuration Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/gateway-server/" class="">Gateway Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/identity-server/" class="is-active">Identity Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/join-server/" class="">Join Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/network-server/" class="">Network Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/packet-broker-agent/" class="">Packet Broker Agent Options</a>
</li>
</ul>





      </div>
      
      <div class="column is-two-thirds">

<h1 class="title is-size-2">Identity Server Options


</h1>

<div class="content">

<h2 id="database-options">Database Options</h2>
<p>The Identity Server needs to be connected to a PostgreSQL-compatible database. Details for the form of the URI can be found in the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING">PostgreSQL documentation</a>.</p>
<ul>
<li><code>is.database-uri</code>: Database connection URI</li>
<li><code>is.read-database-uri</code>: Read-Only database connection URI 



  

  


<span class="distribution-inline">Cloud and Enterprise Only</span>

</li>
</ul>
<h2 id="email-options">Email Options</h2>
<p>The Identity Server can be configured with different providers for sending emails. Currently the <code>sendgrid</code> and <code>smtp</code> providers are implemented.</p>
<ul>
<li><code>is.email.provider</code>: Email provider to use</li>
</ul>
<p>When <code>sendgrid</code> is used as provider, an API key is required. For testing, use the sandbox to prevent emails from actually being sent.</p>
<ul>
<li><code>is.email.sendgrid.api-key</code>: The SendGrid API key to use</li>
<li><code>is.email.sendgrid.sandbox</code>: Use SendGrid sandbox mode for testing</li>
</ul>
<p>When <code>smtp</code> is used as provider, provide the address of the SMTP server (<code>host:port</code>), as well as the username and password for the SMTP server.</p>
<ul>
<li><code>is.email.smtp.address</code>: SMTP server address</li>
<li><code>is.email.smtp.username</code>: Username to authenticate with</li>
<li><code>is.email.smtp.password</code>: Password to authenticate with</li>
<li><code>is.email.smtp.connections</code>: Maximum number of connections to the SMTP server</li>
</ul>
<p>The email address and name of the sender should be configured regardless of the provider that is used.</p>
<ul>
<li><code>is.email.sender-address</code>: The address of the sender</li>
<li><code>is.email.sender-name</code>: The name of the sender</li>
</ul>
<p>Most emails contain the name of the network and links to the Identity Server or Console.</p>
<ul>
<li><code>is.email.network.name</code>: The name of the network</li>
<li><code>is.email.network.identity-server-url</code>: The URL of the Identity Server</li>
<li><code>is.email.network.console-url</code>: The URL of the Console</li>
</ul>
<p>Although The Things Stack comes with a number of builtin email templates, it is possible to override those with custom templates. You can specify the source where to load templates from, and options for that source. For more information on email templates, see the <a href="https://thethingsstack.io/reference/email-templates/">email templates reference</a>.</p>
<ul>
<li><code>is.email.templates.source</code>: Source of the email template files (directory, url, blob)</li>
<li><code>is.email.templates.directory</code>: Directory on the filesystem where email templates are located</li>
<li><code>is.email.templates.url</code>: URL where email templates are located</li>
<li><code>is.email.templates.blob.bucket</code>: Bucket where email templates are located</li>
<li><code>is.email.templates.blob.path</code>: Path within the bucket.</li>
</ul>
<p>If your custom templates rely on other files, such as headers or footers, those files need to be included.</p>
<ul>
<li><code>is.email.templates.includes</code>: The email templates that will be preloaded on startup</li>
</ul>
<h2 id="oauth-ui-options">OAuth UI Options</h2>
<p>The OAuth user interface needs to be configured with at least the canonical URL and the base URL of the Identity Server&rsquo;s HTTP API. The canonical URL needs to be the full URL of the UI, and looks like <code>https://thethings.example.com/oauth</code>. The base URL of the Identity Server&rsquo;s HTTP API looks like <code>https://thethings.example.com/api/v3</code>.</p>
<ul>
<li><code>is.oauth.ui.canonical-url</code>: The page canonical URL</li>
<li><code>is.oauth.ui.is.base-url</code>: Base URL to the HTTP API</li>
</ul>
<p>If you do not want to serve the OAuth user interface on <code>/oauth</code>, you may customize the mount path.</p>
<ul>
<li><code>is.oauth.mount</code>: Path on the server where the OAuth server will be served</li>
</ul>
<p>If page assets for the OAuth UI are served from a CDN or on a different path on the server, the base URL needs to be customized as well. If you want to <a href="https://thethingsstack.io/reference/branding/">customize the branding</a> of the OAuth UI, you can set the base URL for where your branding assets are located.</p>
<ul>
<li><code>is.oauth.ui.assets-base-url</code>: The base URL to the page assets</li>
<li><code>is.oauth.ui.branding-base-url</code>: The base URL to the branding assets</li>
<li><code>is.oauth.ui.branding-cluster-id</code>: The cluster ID to show below the logo 



  

  


<span class="distribution-inline">Cloud and Enterprise Only</span>

</li>
<li><code>is.oauth.ui.branding-text</code>: The branding text to show below the logo 



  

  


<span class="distribution-inline">Cloud and Enterprise Only</span>

</li>
</ul>
<p>The appearance of The Things Stack can optionally be customized.</p>
<ul>
<li><code>is.oauth.ui.site-name</code>: The site name</li>
<li><code>is.oauth.ui.title</code>: The page title</li>
<li><code>is.oauth.ui.sub-title</code>: The page sub-title</li>
<li><code>is.oauth.ui.descriptions</code>: The page description</li>
<li><code>is.oauth.ui.language</code>: The page language</li>
<li><code>is.oauth.ui.theme-color</code>: The page theme color</li>
</ul>
<p>Further customization of the CSS files, JS files and icons is also possible:</p>
<ul>
<li><code>is.oauth.ui.css-file</code>: The names of the CSS files</li>
<li><code>is.oauth.ui.js-file</code>: The names of the JS files</li>
<li><code>is.oauth.ui.icon-prefix</code>: The prefix to put before the page icons (favicon.ico, touch-icon.png, og-image.png)</li>
</ul>
<h2 id="profile-picture-storage-options">Profile Picture Storage Options</h2>
<p>The profile pictures that users upload for their accounts are stored in a blob bucket. The global <a href="/reference/configuration/the-things-stack/#blob-options">blob configuration</a> is used for this. In addition to those options, specify the name of the bucket and the public URL to the bucket.</p>
<ul>
<li><code>is.profile-picture.bucket</code>: Bucket used for storing profile pictures</li>
<li><code>is.profile-picture.bucket-url</code>: Base URL for public bucket access</li>
</ul>
<p>It is also possible to disable uploads:</p>
<ul>
<li><code>is.profile-picture.disable-upload</code>: Disable profile picture uploads</li>
</ul>
<p>It is also possible to use <a href="https://gravatar.com">Gravatar</a> for profile pictures.</p>
<ul>
<li><code>is.profile-picture.use-gravatar</code>: Use Gravatar fallback for users without profile picture</li>
</ul>
<h2 id="end-device-picture-storage-options">End Device Picture Storage Options</h2>
<p>Similar to profile pictures, end devices can have pictures associated with them.</p>
<ul>
<li><code>is.end-device-picture.bucket</code>: Bucket used for storing end device pictures</li>
<li><code>is.end-device-picture.bucket-url</code>: Base URL for public bucket access</li>
</ul>
<p>It is also possible to disable uploads:</p>
<ul>
<li><code>is.end-device-picture.disable-upload</code>: Disable end device picture uploads</li>
</ul>
<h2 id="user-registration-options">User Registration Options</h2>
<p>The user registration process can be customized by requiring approval by admin users, requiring email validation or by requiring new users to be invited by existing users.</p>
<ul>
<li><code>is.user-registration.admin-approval.required</code>: Require admin approval for new users</li>
<li><code>is.user-registration.contact-info-validation.required</code>: Require contact info validation for new users</li>
<li><code>is.user-registration.invitation.required</code>: Require invitations for new users</li>
<li><code>is.user-registration.invitation.token-ttl</code>: TTL of user invitation tokens</li>
</ul>
<p>There are several options to customize the requirements for user passwords.</p>
<ul>
<li><code>is.user-registration.password-requirements.max-length</code>: Maximum password length</li>
<li><code>is.user-registration.password-requirements.min-digits</code>: Minimum number of digits</li>
<li><code>is.user-registration.password-requirements.min-length</code>: Minimum password length</li>
<li><code>is.user-registration.password-requirements.min-special</code>: Minimum number of special characters</li>
<li><code>is.user-registration.password-requirements.min-uppercase</code>: Minimum number of uppercase letters</li>
</ul>
<h2 id="user-rights-options">User Rights Options</h2>
<p>By default users can create applications, gateways, organizations and OAuth clients. With the following configuration options it is possible to restrict this, in which case only admin users are allowed to create these entities. By adding users to organizations, and assigning the appropriate rights, they can still create these entities in the organization.</p>
<ul>
<li><code>is.user-rights.create-applications</code>: Allow non-admin users to create applications in their user account</li>
<li><code>is.user-rights.create-clients</code>: Allow non-admin users to create OAuth clients in their user account</li>
<li><code>is.user-rights.create-gateways</code>: Allow non-admin users to create gateways in their user account</li>
<li><code>is.user-rights.create-organizations</code>: Allow non-admin users to create organizations in their user account</li>
</ul>
<h2 id="gateway-secrets-encryption-options-hahahugoshortcode-s8-hbhb">Gateway Secrets Encryption Options <span class="new-in-version">New in 3.10</span>
</h2>
<ul>
<li><code>is.gateways.encryption-key-id</code>: ID of the key used to encrypt gateway secrets at rest.</li>
</ul>
<h2 id="tenant-administration-options-hahahugoshortcode-s9-hbhb">Tenant Administration Options 



  

  


<span class="distribution-inline">Cloud and Enterprise Only</span>

</h2>
<p>In multi-tenant deployments, tenants are managed with &ldquo;tenant admin keys&rdquo;. These keys need to be configured in the Identity Server.</p>
<ul>
<li><code>is.tenancy.admin-keys</code>: Keys that can be used for tenant administration (16, 24 or 32 hex-encoded bytes) 



  

  


<span class="distribution-inline">Cloud and Enterprise Only</span>

</li>
</ul>

</div>

<script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
<div class="is-clearfix">
<a class="button is-pulled-left" href="/reference/configuration/gateway-server/">← Gateway Server Options</a>
<a class="button is-pulled-right" href="/reference/configuration/join-server/">Join Server Options →</a>
</div>


      </div>
    </div>
  </div>
</section>
</main>

<footer class="footer background-footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/getting-started/">Getting Started</a></p>
        <p><a class="" href="/devices/">Devices</a></p>
        <p><a class="" href="/gateways/">Gateways</a></p>
        <p><a class="" href="/integrations/">Integrations</a></p>
        <p><a class="" href="/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by benolayinka on 18 Nov 2020.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/d916a0ec4c5fb92870b148a5776225c3a851b2e2">
      doc: Fixup new-in-version tags
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/configuration/identity-server.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://thethingsstack.io/js/theme.min.4feb1389331adbef9047157f884dbdbd63af1c61ac83f327e60eef42f999cb26.js" integrity="sha256-T&#43;sTiTMa2&#43;&#43;QRxV/iE29vWOvHGGsg/Mn5g7vQvmZyyY="></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
