<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.96.0" />
  <title>Packet Broker Agent Options | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/reference/configuration/packet-broker-agent/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.74b07de880ad60ffdf0f356535e15d45e05de3df7f1c738e63521f7d8d731e53.css" integrity="sha256-dLB96ICtYP/fDzVlNeFdReBd499/HHOOY1IffY1zHlM=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Packet Broker Agent Options">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Packet Broker Agent Options">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/reference/configuration/packet-broker-agent/">
  <meta name="twitter:title" content="Packet Broker Agent Options" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body><nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.19.0</p>
      </a><div class="navbar-item navbar-search-brand">
        <div class="field has-addons has-addons-centered">
          <div class="control">
            <input id="search-input-brand" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
          </div>
        </div>
      </div>
      
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a><div class="navbar-item navbar-search-menu">
            <div class="field has-addons has-addons-centered">
              <div class="control">
                <input id="search-input-menu" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
              </div>
            </div>
          </div></div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://www.thethingsindustries.com/deployment/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript">
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-brand',
      debug: false 
    });
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-menu',
      debug: false 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Reference</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/reference/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/adr/" class="">Adaptive Data Rate</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/api/" class="">API</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/application-packages/" class="">Application Packages</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/stripe/" class="">Billing with Stripe</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/cli/" class="">Command-Line Interface</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/components/" class="">Components</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/" class="">Configuration</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/the-things-stack/" class="">General Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/tenant-billing-server/" class="">Tenant Billing Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/application-server/" class="">Application Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/cli/" class="">Command-Line Interface Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/console/" class="">Console Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/device-claiming-server/" class="">Device Claiming Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/gateway-configuration-server/" class="">Gateway Configuration Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/gateway-server/" class="">Gateway Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/identity-server/" class="">Identity Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/join-server/" class="">Join Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/network-server/" class="">Network Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/packet-broker-agent/" class="is-active">Packet Broker Agent Options</a>
    
    



    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/data-formats/" class="">Data Formats</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/data-retention/" class="">Data Retention and Privacy</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/email-templates/" class="">Email Templates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/" class="">Federated Authentication</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/frequency-plans/" class="">Frequency Plans</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/gateway-rtt/" class="">Gateway RTT</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/glossary/" class="">Glossary</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/id-eui-constraints/" class="">ID and EUI Constraints</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/last-activity/" class="">Last Activity</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/lbs-implementation-guide/implementation-details/" class="">LoRa Basics Station Implementation Guide</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/interop-repository/" class="">LoRaWAN Backend Interfaces Interoperability</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/spec-regional-parameters/" class="">LoRaWAN Specification and Regional Parameters</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/networking/" class="">Networking</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/pb-routing/" class="">Packet Broker Routing</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/packet-forwarder/" class="">Packet Forwarders</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/purge/" class="">Purging Entities</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/rate-limiting/" class="">Rate Limiting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/resource-limiting/" class="">Resource Limiting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/root-certificates/" class="">Root Certificates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/telemetry/" class="">Telemetry</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/tenant-management/" class="">Tenant Management</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/branding/" class="">Web UI Branding</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Packet Broker Agent Options
          
        </h1>
        
        <div class="content">
          <h2 id="registration-options">Registration Options</h2>
<ul>
<li><code>pba.registration.name</code>: Friendly name to register with Packet Broker</li>
<li><code>pba.registration.administrative-contact.email</code>: Email address of the administrative contact person or mailing group</li>
<li><code>pba.registration.technical-contact.email</code>: Email address of the technical contact person or mailing group</li>
<li><code>pba.registration.listed</code>: Indicates whether the Home Network is listed in the Packet Broker catalog. Set this to <code>false</code> to connect to Packet Broker but to stay private to other networks</li>
</ul>
<h2 id="connection-options">Connection Options</h2>
<ul>
<li><code>pba.iam-address</code>: Address of Packet Broker IAM</li>
<li><code>pba.control-plane-address</code>: Address of Packet Broker Control Plane</li>
<li><code>pba.data-plane-address</code>: Address of Packet Broker Data Plane. See <a href="https://github.com/packetbroker/pb">Packet Broker Clients</a> for available cluster addresses</li>
<li><code>pba.insecure</code>: Connect without using TLS (only for test environments)</li>
<li><code>pba.net-id</code>: LoRa Alliance NetID</li>
<li><code>pba.tenant-id</code>: Tenant ID within the NetID</li>
<li><code>pba.cluster-id</code>: Cluster ID uniquely identifying this cluster within a NetID and tenant. The cluster ID is used for shared subscriptions (i.e. splitting traffic over multiple Packet Broker Agents) and as Forwarder ID to route downlink traffic to the right cluster</li>
<li><code>pba.cluster-id-template</code>: Use a Go template for constructing Packet Broker Cluster ID from The Things Stack Cluster ID (e.g. <code>{{.}}.thethings.example.com</code> with cluster ID <code>eu1</code> results in Packet Broker Cluster ID <code>eu1.thethings.example.com</code>)</li>
<li><code>pba.home-network-cluster-id</code>: Home Network Cluster ID, if different from the Cluster ID. Leave empty to fallback to <code>cluster-id</code></li>
</ul>
<p>Gateway identity, status, antennas, frequency plan, location, Tx and Rx rates can be reported to Packet Broker Mapper. Mapping is enabled when the Forwarder role is enabled.</p>
<ul>
<li><code>pba.mapper-address</code>: Address of Packet Broker Mapper</li>
</ul>
<h2 id="authentication-options">Authentication Options</h2>
<ul>
<li><code>pba.authentication-mode</code>: Set this to <code>oauth2</code></li>
<li><code>pba.oauth2.client-id</code>: Packet Broker API key ID, used to fetch an OAuth 2.0 token via client credentials</li>
<li><code>pba.oauth2.client-secret</code>: Corresponding secret API key</li>
<li><code>pba.oauth2.token-url</code>: URL to fetch the OAuth 2.0 token</li>
</ul>
<h2 id="forwarder-options">Forwarder Options</h2>
<ul>
<li><code>pba.forwarder.enable</code>: Enable Forwarder role</li>
<li><code>pba.forwarder.worker-pool.limit</code>: Limit of active workers concurrently forwarding uplink messages and processing downlink message</li>
<li><code>pba.forwarder.token-key</code>: AES 128 or 256-bit key for encrypting uplink token</li>
<li><code>pba.forwarder.include-gateway-eui</code>: Indicates whether to include the gateway EUI in forwarded uplink messages</li>
<li><code>pba.forwarder.include-gateway-id</code>: Indicates whether to include the gateway ID (plain or hashed) in forwarded uplink messages</li>
<li><code>pba.forwarder.hash-gateway-id</code>: Indicates whether the forwarded gateway ID should be hashed. This setting is ineffective if <code>include-gateway-id</code> is <code>false</code></li>
<li><code>pba.forwarder.gateway-online-ttl</code>: TTL of online status reported to Packet Broker</li>
</ul>
<h2 id="home-network-options">Home Network Options</h2>
<ul>
<li><code>pba.home-network.enable</code>: Enable Home Network role</li>
<li><code>pba.home-network.dev-addr-prefixes</code>: DevAddr prefixes to subscribe to</li>
<li><code>pba.home-network.worker-pool.limit</code>: Limit of active workers concurrently processing uplink messages and publishing downlink messages</li>
<li><code>pba.home-network.include-hops</code>: Include hops in the metadata. This option is disabled by default</li>
</ul>

        </div>
        <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/reference/configuration/network-server/">← Network Server Options</a>
<a class="button is-pulled-right" href="/docs/reference/data-formats/">Data Formats →</a>
</div>

        <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#registration-options'>Registration Options</a></li>
    
      
      <li><a href='#connection-options'>Connection Options</a></li>
    
      
      <li><a href='#authentication-options'>Authentication Options</a></li>
    
      
      <li><a href='#forwarder-options'>Forwarder Options</a></li>
    
      
      <li><a href='#home-network-options'>Home Network Options</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/ttn-network/v3/90">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Nejra Selimović on 01 Apr 2022.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/539fe5f4b53dacf15f29e6462f947ffef5e59120">
      doc: Add v3.18.2 release docs (#839)
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/configuration/packet-broker-agent.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.a32708c8796e7e8713fa926212adddbbf5c15cdd97676d898ecfc17bc6d9ed4f.js" integrity="sha256-oycIyHlufocT&#43;pJiEq3du/XBXN2XZ22Jjs/Be8bZ7U8=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
