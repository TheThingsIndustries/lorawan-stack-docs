<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.96.0" />
  <title>Network Server Options | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/reference/configuration/network-server/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.c994a55269632c4bc7be3364abf857e85ff170cc251dd025099769c910cbbcb4.css" integrity="sha256-yZSlUmljLEvHvjNkq/hX6F/xcMwlHdAlCZdpyRDLvLQ=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Network Server Options">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Network Server Options">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/reference/configuration/network-server/">
  <meta name="twitter:title" content="Network Server Options" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body><nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.21.1</p>
      </a><div class="navbar-item navbar-search-brand">
        <div class="field has-addons has-addons-centered">
          <div class="control">
            <input id="search-input-brand" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
          </div>
        </div>
      </div>
      
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a><div class="navbar-item navbar-search-menu">
            <div class="field has-addons has-addons-centered">
              <div class="control">
                <input id="search-input-menu" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
              </div>
            </div>
          </div></div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript">
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-brand',
      debug: false 
    });
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-menu',
      debug: false 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Reference</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/reference/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/adr/" class="">Adaptive Data Rate</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/api/" class="">API</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/application-packages/" class="">Application Packages</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/stripe/" class="">Billing with Stripe</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/cli/" class="">Command-Line Interface</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/components/" class="">Components</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/" class="">Configuration</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/the-things-stack/" class="">General Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/tenant-billing-server/" class="">Tenant Billing Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/application-server/" class="">Application Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/cli/" class="">Command-Line Interface Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/console/" class="">Console Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/device-claiming-server/" class="">Device Claiming Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/gateway-configuration-server/" class="">Gateway Configuration Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/gateway-server/" class="">Gateway Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/identity-server/" class="">Identity Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/join-server/" class="">Join Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/network-operations-center/" class="">Network Operations Center Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/network-server/" class="is-active">Network Server Options</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/packet-broker-agent/" class="">Packet Broker Agent Options</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/data-formats/" class="">Data Formats</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/data-retention/" class="">Data Retention and Privacy</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/email-templates/" class="">Email Templates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/" class="">Federated Authentication</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/frequency-plans/" class="">Frequency Plans</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/fuota/" class="">FUOTA</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/gateway-rtt/" class="">Gateway RTT</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/glossary/" class="">Glossary</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/id-eui-constraints/" class="">ID and EUI Constraints</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/last-activity/" class="">Last Activity</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/lbs-implementation-guide/implementation-details/" class="">LoRa Basics Station Implementation Guide</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/interop-repository/" class="">LoRaWAN Backend Interfaces Interoperability</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/spec-regional-parameters/" class="">LoRaWAN Specification and Regional Parameters</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/networking/" class="">Networking</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/pb-routing/" class="">Packet Broker Routing</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/packet-forwarder/" class="">Packet Forwarders</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/purge/" class="">Purging Entities</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/rate-limiting/" class="">Rate Limiting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/resource-limiting/" class="">Resource Limiting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/root-certificates/" class="">Root Certificates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/telemetry/" class="">Telemetry</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/tenant-management/" class="">Tenant Management</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/branding/" class="">Web UI Branding</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Network Server Options
          
        </h1>
        
        <div class="content">
          <h2 id="general-options">General Options</h2>
<ul>
<li><code>ns.dev-addr-prefixes</code>: Device address prefixes of this Network Server</li>
<li><code>ns.net-id</code>: NetID of this Network Server</li>
<li><code>ns.cluster-id</code>: ClusterID of this Network Server. This is purely informative and is added as metadata to messages forwarded to the Application Server</li>
<li><code>ns.device-kek-label</code>: Label of KEK used to encrypt device keys at rest</li>
</ul>
<h2 id="uplink-options">Uplink Options</h2>
<ul>
<li><code>ns.cooldown-window</code>: Time window starting right after deduplication window, during which, duplicate messages are discarded</li>
<li><code>ns.deduplication-window</code>: Time window during which, duplicate messages are collected for metadata</li>
<li><code>ns.application-uplink-queue.buffer-size</code>: Application uplink queue buffer size (default 1000)</li>
<li><code>ns.application-uplink-queue.num-consumers</code>: Number of consumers for the application uplink queue (default 1)</li>
</ul>
<h2 id="downlink-options">Downlink Options</h2>
<p>The <code>ns.downlink-priorities</code> options configure priorities Network Server assigns downlinks when scheduling them on Gateway Server. In case when several downlinks are available for scheduling, Gateway Server will schedule higher priority downlink first.</p>
<ul>
<li><code>ns.downlink-priorities.join-accept</code>: Priority for join-accept messages (lowest, low, below_normal, normal, above_normal, high, highest)</li>
<li><code>ns.downlink-priorities.mac-commands</code>: Priority for messages carrying MAC commands (lowest, low, below_normal, normal, above_normal, high, highest)</li>
<li><code>ns.downlink-priorities.max-application-downlink</code>: Maximum priority for application downlink messages (lowest, low, below_normal, normal, above_normal, high, highest)</li>
</ul>
<p>Network Server downlink queue capacity is configurable.</p>
<ul>
<li><code>ns.downlink-queue-capacity</code>: Maximum downlink queue size per session (default 10000)</li>
</ul>
<p>Network Server maintains an internal downlink task queue, where tasks have an execution time associated with them.</p>
<ul>
<li><code>ns.downlink-task-queue.num-consumers</code>: Number of consumers for the downlink task queue (default 1)</li>
</ul>
<h2 id="mac-options">MAC Options</h2>
<p>The <code>ns.default-mac-settings</code> options configure default device MAC configuration parameters Network Server uses if not configured in device&rsquo;s MAC settings.</p>
<ul>
<li><code>ns.default-mac-settings.adr-margin</code>: The default margin Network Server should add in ADR requests</li>
<li><code>ns.default-mac-settings.class-b-timeout</code>: Deadline for a device in class B mode to respond to requests from the Network Server</li>
<li><code>ns.default-mac-settings.class-c-timeout</code>: Deadline for a device in class C mode to respond to requests from the Network Server</li>
<li><code>ns.default-mac-settings.desired-adr-ack-delay-exponent</code>: The desired ADR ACK delay exponent (<code>ADR_ACK_DELAY_&lt;X&gt;</code>). Not set by default</li>
<li><code>ns.default-mac-settings.desired-adr-ack-limit-exponent</code>: The desired ADR ACK limit exponent (<code>ADR_ACK_LIMIT_&lt;X&gt;</code>). Not set by default</li>
<li><code>ns.default-mac-settings.desired-max-duty-cycle</code>: The desired maximum Duty Cycle, (<code>DUTY_CYCLE_&lt;X&gt;</code>). Not set by default</li>
<li><code>ns.default-mac-settings.desired-rx1-delay</code>: Desired Rx1Delay value Network Server should use (<code>RX_DELAY_&lt;X&gt;</code>)</li>
<li><code>ns.default-mac-settings.status-count-periodicity</code>: Number of uplink messages after which a DevStatusReq MACCommand shall be sent by Network Server</li>
<li><code>ns.default-mac-settings.status-time-periodicity</code>: The interval after which a DevStatusReq MACCommand shall be sent by Network Server</li>
</ul>
<h2 id="interoperability">Interoperability</h2>
<p>The <code>ns.interop</code> options configure how Network Server performs interoperability with other LoRaWAN Backend Interfaces-compliant servers.</p>
<ul>
<li><code>ns.interop.config-source</code>: Source of the interoperability client configuration (directory, url, blob)</li>
<li><code>ns.interop.blob.bucket</code>: Blob bucket, which contains interoperability client configuration</li>
<li><code>ns.interop.blob.path</code>: Blob path, which contains interoperability client configuration</li>
<li><code>ns.interop.directory</code>: OS filesystem directory, which contains interoperability client configuration</li>
<li><code>ns.interop.url</code>: URL, which contains interoperability client configuration</li>
</ul>
<h2 id="peering">Peering</h2>
<p>






  
    
  

  
    
  



  

  

<a href="/docs/download" target="_blank" class="badge-stack has-tooltip has-tooltip-arrow has-tooltip-light" data-tooltip="Cloud and Enterprise Only">

  <img class="badge" src="/docs/img/tts_frames/frame_cloud.svg"></img>

  <img class="badge" src="/docs/img/tts_frames/frame_enterprise.svg"></img>

</a>


 In multi-tenant deployments, the Network Server maintains strict isolation of traffic for different tenants. When it also has peering configured, Packet Broker is typically configured with the correct tenant ID for the DevAddr ranges of each tenant. It is also possible to accept traffic from Packet Broker without a tenant ID, and let the Network Server match devices without strict tenant isolation.</p>
<ul>
<li><code>ns.switch-peering-tenant-context</code> 






  
    
  

  
    
  



  

  

<a href="/docs/download" target="_blank" class="badge-stack has-tooltip has-tooltip-arrow has-tooltip-light" data-tooltip="Cloud and Enterprise Only">

  <img class="badge" src="/docs/img/tts_frames/frame_cloud.svg"></img>

  <img class="badge" src="/docs/img/tts_frames/frame_enterprise.svg"></img>

</a>


: Switch tenant context in peering</li>
</ul>

        </div>
        <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/reference/configuration/network-operations-center/">← Network Operations Center Options</a>
<a class="button is-pulled-right" href="/docs/reference/configuration/packet-broker-agent/">Packet Broker Agent Options →</a>
</div>

        <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#general-options'>General Options</a></li>
    
      
      <li><a href='#uplink-options'>Uplink Options</a></li>
    
      
      <li><a href='#downlink-options'>Downlink Options</a></li>
    
      
      <li><a href='#mac-options'>MAC Options</a></li>
    
      
      <li><a href='#interoperability'>Interoperability</a></li>
    
      
      <li><a href='#peering'>Peering</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/ttn-network/v3/90">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Nejra Selimović on 27 Jan 2022.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/898f49e5bfbf543be6c451425afa4b837c85dcf1">
      doc: Add missing configuration options (#744)
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/configuration/network-server.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.a32708c8796e7e8713fa926212adddbbf5c15cdd97676d898ecfc17bc6d9ed4f.js" integrity="sha256-oycIyHlufocT&#43;pJiEq3du/XBXN2XZ22Jjs/Be8bZ7U8=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
