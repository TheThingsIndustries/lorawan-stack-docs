<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>Application Server Options | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/reference/configuration/application-server/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.25b30cdd256bfe2021b3a162f05871509954bca5cc3a6e85d1f515ea9ed6aa0f.css" integrity="sha256-JbMM3SVr/iAhs6Fi8FhxUJlUvKXMOm6F0fUV6p7Wqg8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Application Server Options">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Application Server Options">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/reference/configuration/application-server/">
  <meta name="twitter:title" content="Application Server Options" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body><nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.14</p>
      </a><div class="navbar-item navbar-search-brand">
        <div class="field has-addons has-addons-centered">
          <div class="control">
            <input id="search-input-brand" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
          </div>
        </div>
      </div>
      
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a><div class="navbar-item navbar-search-menu">
            <div class="field has-addons has-addons-centered">
              <div class="control">
                <input id="search-input-menu" class="input search-bar" type="text" placeholder="Search the docs..." type="text">
              </div>
            </div>
          </div></div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/docs/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript">
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-brand',
      debug: false 
    });
    docsearch({
      apiKey: "4372282a02970d8402d43457bf95d486",
      indexName: "thethingsstack",
      inputSelector: '#search-input-menu',
      debug: false 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Reference</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/reference/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/adr/" class="">Adaptive Data Rate</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/api/" class="">API</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/application-packages/" class="">Application Packages</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/stripe/" class="">Billing with Stripe</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/cli/" class="">Command-Line Interface</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/components/" class="">Components</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/" class="">Configuration</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/the-things-stack/" class="">General Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/tenant-billing-server/" class="">Tenant Billing Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/application-server/" class="is-active">Application Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/cli/" class="">Command-Line Interface Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/console/" class="">Console Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/device-claiming-server/" class="">Device Claiming Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/gateway-configuration-server/" class="">Gateway Configuration Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/gateway-server/" class="">Gateway Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/identity-server/" class="">Identity Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/join-server/" class="">Join Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/network-server/" class="">Network Server Options</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/reference/configuration/packet-broker-agent/" class="">Packet Broker Agent Options</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/data-formats/" class="">Data Formats</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/data-retention/" class="">Data Retention and Privacy</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/email-templates/" class="">Email Templates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/federated-auth/" class="">Federated Authentication</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/frequency-plans/" class="">Frequency Plans</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/glossary/" class="">Glossary</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/id-eui-constraints/" class="">ID and EUI Constraints</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/interop-repository/" class="">Interoperability Repository</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/lbs-implementation-guide/implementation-details/" class="">LoRa Basics Station Implementation Guide</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/spec-regional-parameters/" class="">LoRaWAN Specification and Regional Parameters</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/networking/" class="">Networking</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/purge/" class="">Purging Entities</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/rate-limiting/" class="">Rate Limiting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/root-certificates/" class="">Root Certificates</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/telemetry/" class="">Telemetry</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/reference/branding/" class="">Web UI Branding</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">Application Server Options
          
        </h1>
        
        <div class="content">
          <h2 id="security-options">Security Options</h2>
<ul>
<li><code>as.device-kek-label</code>: Label of KEK used to encrypt device keys at rest</li>
</ul>
<h2 id="interoperability-options">Interoperability Options</h2>
<p>The <code>as.interop</code> options configure how Application Server performs interoperability with other LoRaWAN Backend Interfaces-compliant servers.</p>
<ul>
<li><code>as.interop.id</code>: AS-ID used for interoperability</li>
<li><code>as.interop.config-source</code>: Source of the interoperability client configuration (directory, url, blob)</li>
<li><code>as.interop.blob.bucket</code>: Blob bucket, which contains interoperability client configuration</li>
<li><code>as.interop.blob.path</code>: Blob path, which contains interoperability client configuration</li>
<li><code>as.interop.directory</code>: OS filesystem directory, which contains interoperability client configuration</li>
<li><code>as.interop.url</code>: URL, which contains interoperability client configuration</li>
</ul>
<h2 id="mqtt-options">MQTT Options</h2>
<p>Application Server exposes an MQTT server for streaming data.</p>
<ul>
<li><code>as.mqtt.listen</code>: Address for the MQTT frontend to listen on (default &ldquo;:1883&rdquo;)</li>
<li><code>as.mqtt.listen-tls</code>: Address for the MQTTS frontend to listen on (default &ldquo;:8883&rdquo;)</li>
<li><code>as.mqtt.public-address</code>: Public address of the MQTT frontend (default &ldquo;localhost:1883&rdquo;)</li>
<li><code>as.mqtt.public-tls-address</code>: Public address of the MQTTs frontend (default &ldquo;localhost:8883&rdquo;)</li>
</ul>
<h2 id="http-webhooks-options">HTTP Webhooks Options</h2>
<p>Application Server has an internal queue with worker routines for outgoing requests. When remote endpoints are not fast enough and queue (with <code>queue-size</code>) gets full, new traffic gets discarded. You can tune these parameters for optimal performance, considering memory consumption with a large queue size and number of workers.</p>
<ul>
<li><code>as.webhooks.queue-size</code>: Number of requests to queue (default 16)</li>
<li><code>as.webhooks.target</code>: Target of the integration (direct) (default &ldquo;direct&rdquo;)</li>
<li><code>as.webhooks.timeout</code>: Wait timeout of the target to process the request (default 5s)</li>
<li><code>as.webhooks.workers</code>: Number of workers to process requests (default 16)</li>
</ul>
<p>Application Server supports templates for webhooks that can be loaded from a <code>directory</code> or <code>url</code>.</p>
<ul>
<li><code>as.webhooks.templates.directory</code>: Retrieve the webhook templates from the filesystem</li>
<li><code>as.webhooks.templates.url</code>: Retrieve the webhook templates from a web server</li>
<li><code>as.webhooks.templates.logo-base-url</code>: The base URL for the logo storage</li>
</ul>
<p>Application Server supports communicating the paths of the downlink queue operations to the webhook endpoints via headers. The paths are computed from the public address, and the HTTPS endpoint is preferred over the HTTP one.</p>
<ul>
<li><code>as.webhooks.downlink.public-address</code>: Public address of the HTTP webhooks frontend (default &ldquo;http://localhost:1885/api/v3&rdquo;)</li>
<li><code>as.webhooks.downlink.public-tls-address</code>: Public address of the HTTPS webhooks frontend</li>
</ul>
<h2 id="entity-fetcher-options">Entity Fetcher Options</h2>
<p>Application Server can fetch information stored in the Identity Server. For example, it may be fetch end devices, in order to add their location as metadata to forwarded upstream messages. This information can be cached locally to improve performance:</p>
<ul>
<li><code>as.fetcher.cache.enable</code>: Set to <code>true</code> to enable caching.</li>
<li><code>as.fetcher.cache.size</code>: Number of cache entries. In case the cache is full, the Least Frequently Used entry will be evicted. Set to <code>0</code> to disable.</li>
<li><code>as.fetcher.cache.ttl</code>: Time-To-Live for cache entries.</li>
</ul>
<h2 id="formatter-options">Formatter Options</h2>
<p><span class="tag is-light">New in 3.13.0</span>

 Application Server can use Javascript payload formatters to decode uplink and encode downlink messages.</p>
<ul>
<li><code>as.formatters.max-parameter-length</code>: Maximum length (in bytes) for user-defined payload formatter scripts. A global cap of 16KB is enforced at the API level. This does not affect payload formatter scripts loaded from the <a href="https://www.thethingsindustries.com/docs/integrations/payload-formatters/device-repo/">Device Repository</a>.</li>
</ul>
<h2 id="storage-integration-options">Storage Integration Options</h2>
<p>






  
    
  

  
    
  

  
    
  



  

  

  

<a href="/docs/download" target="_blank" class="badge-stack has-tooltip has-tooltip-arrow has-tooltip-light" data-tooltip="Dedicated Cloud, Enterprise and AWS Launcher Only">

  <img class="badge" src="/docs/img/tts_frames/frame_dedicated_cloud.svg"></img>

  <img class="badge" src="/docs/img/tts_frames/frame_enterprise.svg"></img>

  <img class="badge" src="/docs/img/tts_frames/frame_aws.svg"></img>

</a>


 The Storage Integration requires a database for storing upstream messages.</p>
<ul>
<li><code>as.packages.storage.provider</code>: Database backend to use. Currently, only <code>postgres</code> is supported.</li>
</ul>
<p>A PostgreSQL-compatible database is required. The Application Server will automatically recognise when <a href="https://www.timescale.com">TimescaleDB</a> is used.</p>
<ul>
<li><code>as.packages.storage.postgres.database-uri</code>: Database connection URI. Details for the form of the URI can be found in the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING">PostgreSQL documentation</a></li>
<li><code>as.packages.storage.postgres.read-database-uri</code>: Read-only database connection URI</li>
<li><code>as.packages.storage.postgres.select-batch-size</code>: Maximum batch size for <code>SELECT</code> queries. Larger values require more memory, but improve speed when querying large datasets</li>
<li><code>as.packages.storage.postgres.insert-batch-size</code>: Maximum batch size for <code>INSERT</code> queries. Larger values require more memory, but improve throughput when storing messages, by reducing the number of required database transactions. Only relevant when bulk mode is enabled</li>
<li><code>as.packages.storage.postgres.debug</code>: Log all SQL queries, make sure to set to <code>false</code> for production environments</li>
</ul>
<p>In order to improve performance, the Storage Integration can be configured to store upstream messages in a local cache, and then flush them in batches to the database in regular intervals.</p>
<ul>
<li><code>as.packages.storage.bulk.enabled</code>: Set to <code>true</code> to enable bulk mode.</li>
<li><code>as.packages.storage.bulk.interval</code>: Interval between consecutive flushes.</li>
<li><code>as.packages.storage.bulk.max-size</code>: Local cache size (number of messages). If the cache is full and a new upstream messages arrives, the cache is flushed to the database.</li>
</ul>
<p>The Storage Integration can be configured to store only specific types of upstream messages.</p>
<ul>
<li><code>as.packages.storage.enable.all</code>: Set to <code>true</code> to store all current and future message types, ignoring the rest of the options</li>
<li><code>as.packages.storage.enable.uplink-message</code>: Set to <code>true</code> to store <code>UplinkMessage</code> messages</li>
<li><code>as.packages.storage.enable.join-accept</code>: Set to <code>true</code> to store <code>JoinAccept</code> messages</li>
<li><code>as.packages.storage.enable.downlink-ack</code>: Set to <code>true</code> to store <code>DownlinkAck</code> messages</li>
<li><code>as.packages.storage.enable.downlink-nack</code>: Set to <code>true</code> to store <code>DownlinkNack</code> messages</li>
<li><code>as.packages.storage.enable.downlink-sent</code>: Set to <code>true</code> to store <code>DownlinkSent</code> messages</li>
<li><code>as.packages.storage.enable.downlink-failed</code>: Set to <code>true</code> to store <code>DownlinkFailed</code> messages</li>
<li><code>as.packages.storage.enable.location-solved</code>: Set to <code>true</code> to store <code>LocationSolved</code> messages</li>
<li><code>as.packages.storage.enable.service-data</code>: Set to <code>true</code> to store <code>ServiceData</code> messages</li>
</ul>

        </div>
        <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/reference/configuration/tenant-billing-server/">← Tenant Billing Server Options</a>
<a class="button is-pulled-right" href="/docs/reference/configuration/cli/">Command-Line Interface Options →</a>
</div>

        <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#security-options'>Security Options</a></li>
    
      
      <li><a href='#interoperability-options'>Interoperability Options</a></li>
    
      
      <li><a href='#mqtt-options'>MQTT Options</a></li>
    
      
      <li><a href='#http-webhooks-options'>HTTP Webhooks Options</a></li>
    
      
      <li><a href='#entity-fetcher-options'>Entity Fetcher Options</a></li>
    
      
      <li><a href='#formatter-options'>Formatter Options</a></li>
    
      
      <li><a href='#storage-integration-options'>Storage Integration Options</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Ben Olayinka on 10 Jun 2021.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/1088c5144c03928eb7d97c6105895e620eab3d79">
      Move inline shortcodes to next line (#382)
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/configuration/application-server.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.79500656c3860a54b3b38e5f5770a5130bc57306ebb67ca9b057e494f6f4b454.js" integrity="sha256-eVAGVsOGClSzs45fV3ClEwvFcwbrtnypsFfklPb0tFQ=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
