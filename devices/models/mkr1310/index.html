<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.134.2">
  <title>Arduino MKR 1310 | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/devices/models/mkr1310/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.d3f3815ed6609abc2ba6d0d6e3be8af6f52947117280c3cf9fbd8f5ff6ffb058.css" integrity="sha256-0/OBXtZgmrwrptDW476K9vUpRxFygMPPn72PX/b/sFg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Arduino MKR 1310">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Arduino MKR 1310">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/devices/models/mkr1310/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="Arduino MKR 1310" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.10.1/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/the-things-stack/">The Things Stack</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>
        <a class="navbar-item" href="/docs/api/">API</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://www.thethingsindustries.com/stack/plans/" target="_blank">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Devices</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/devices/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/devices/adding-devices/" class="">Adding Devices</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/devices/configuring-devices/" class="">Configuring Devices</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/devices/concepts/" class="">Concepts</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/" class="">Models</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/mkr1310/" class="is-active">Arduino MKR 1310</a>
    
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/mkr1310/temp/" class="">Monitoring Temperature with MKR WAN 1310</a>
    
  </li>

</ul>


    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/browan-tbms100/" class="">Browan TBMS100 Motion Sensor</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/dragino-lht52/" class="">Dragino LHT52</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/elsys-ers-lite/" class="">Elsys ERS Lite</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/generic-node-se/" class="">Generic Node Sensor Edition</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/heltec-ab01/" class="">Heltec HTCC-AB01</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/lilygo-lora32/" class="">LILYGO LoRa32</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/milesight-em300-th/" class="">Milesight EM300-TH</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/lw001-bg-pro/" class="">Moko Smart LW001-BG Pro</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/quectel-kg200z/" class="">Quectel KG200ZABTB</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/rakwireless-rak2560/" class="">RAKwireless RAK2560 Sensor Hub</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/seeed-s210x/" class="">Seeed Studio S210x Series</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/seeed-e5/" class="">Seeed Studio Wio-E5</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/sensative-strips/" class="">Sensative Strips</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/sg-f1/" class="">SG Wireless F1 Starter Kit</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/the-things-node/" class="">The Things Node</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/devices/models/the-things-uno/" class="">The Things Uno</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/devices/troubleshooting/" class="">Troubleshooting Devices</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        
        
        <h1 class="title is-size-2">Arduino MKR 1310</h1>
        <div class="content">
          <figure class="float plain"><img src="/docs/devices/models/mkr1310/mkrwan1310.png"
    alt="Arduino MKR WAN 1310">
</figure>

<p>This section will help you get started with using The <a href="https://docs.arduino.cc/hardware/mkr-wan-1310/">Arduino MKR WAN 1310</a> on The Things Stack.</p>
<p>The <strong>Arduino MKR WAN 1310</strong> is a board that combines the power of an ATMEL SAMD21 microcontroller and the communication capabilities of the Murata LoRa® module. It is designed to integrate the core&rsquo;s low power-consumption and high performance with the ease-of-use of Arduino&rsquo;s environment, making this board a practical and cost effective solution for makers seeking to add LoRa® connectivity to their projects, with minimal previous experience in networking.</p>
<p>The Arduino MKR WAN 1310 is programmed using the Arduino Software (IDE).</p>
<h2 id="setting-up-arduino-ide">Setting up Arduino IDE</h2>
<p>The Arduino IDE allows you to write code using the Arduino programming language (C/C++), compile (verify), and upload it to The Arduino MKR WAN 1310. It supports Windows, Mac OS, Linux, and Chrome OS.</p>
<p>Download the latest release of the <a href="https://www.arduino.cc/en/Main/Software">Arduino Software (IDE)</a>, <a href="https://www.arduino.cc/en/Guide">install</a> it on your operating system and run it.</p>
<p>Before we get to programming you need to install a few additional things. First is the drivers for the board. This can be done by clicking the <strong>second icon in the left-hand menu</strong> or navigating to <strong>Tools &gt; Board &gt; Board Manager&hellip;</strong>. Here you need to look for the <strong>Arduino SAMD boards (32-bits ARM® Cortex®-M0+)</strong> package and install it.</p>
<figure><img src="/docs/devices/models/mkr1310/boards-manager.png"
    alt="Arduino Boards Manager">
</figure>

<p>Then you need to install the library for the board. Click on the <strong>third icon in the left-hand menu</strong> or navigate to <strong>Tools &gt; Manage libraries..</strong>. In here search for <strong>MKRWAN</strong> and install it.</p>
<figure><img src="/docs/devices/models/mkr1310/library-manager.png"
    alt="Arduino Library Manager">
</figure>

<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  You might have noticed there is also a library named MKRWAN_v2 from Arduino. We used the MKRWAN library for this tutorial, but both libraries work. As the two libraries rely on two separate firmware, it is important that your device has the correct firmware installed. Updating it is done by running the <strong>File &gt; Examples &gt; MKRWAN / MKRWAN_v2 &gt; MKRWANFWUpdate_standalone</strong> example from the corresponding library.
</div>

<p>Once you have downloaded the library, you will need to upload an example code from the <strong>MKRWAN</strong> library, called <strong>FirstConfiguration</strong>. You can find this in <strong>File &gt; Examples &gt; MKRWAN &gt; FirstConfiguration</strong>.</p>
<p>Then plug the Arduino into your computer. In the IDE, click on <strong>Select Board</strong> at the top, and select your <strong>Arduino MKR WAN 1310</strong>.</p>
<figure><img src="/docs/devices/models/mkr1310/select-board.png"
    alt="Selecting Board">
</figure>

<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  If your board does not show up in the dropdown, try a different cable. The cable might not be able to transfer data.
</div>

<p>Once that is done you can upload the file to the board (Using the <strong>-&gt;</strong> button). Once the code is uploaded successfully, open the Serial Monitor. You can open it by clicking the <strong>icon in the top-right corner</strong>.</p>
<figure><img src="/docs/devices/models/mkr1310/serial-monitor.png"
    alt="Serial Monitor">
</figure>

<p>Here you will find the unique Device EUI as displayed in the picture below:</p>
<figure><img src="/docs/devices/models/mkr1310/device-eui.png"
    alt="EUI of the device in the serial monitor">
</figure>

<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  If nothing appears in the serial monitor, press the reset button on the MKR WAN 1310.
</div>

<p>Now copy the Device EUI and save it, as it will be used for connecting to The Things Stack.</p>
<h2 id="registering-on-the-things-stack">Registering on The Things Stack</h2>
<p>Move to The Things Stack Console, create an application and click register device. Check <a href="https://www.thethingsindustries.com/docs/devices/adding-devices/">Adding Devices</a> for more info.</p>
<p>Here enter the following details:</p>
<ul>
<li><strong>End device brand:</strong> <code>Arduino SA</code></li>
<li><strong>Model:</strong> <code>MKR WAN 1310</code></li>
<li><strong>Hardware Ver.:</strong> <code>1.0</code></li>
<li><strong>Firmware Ver.:</strong> Check in the Arduino IDE Serial Monitor ↓</li>
</ul>
<figure><img src="/docs/devices/models/mkr1310/hw-version.png"
    alt="Hardware/Module version of the MKR in the arduino serial monitor" width="150%">
</figure>

<figure><img src="/docs/devices/models/mkr1310/stack-device.png"
    alt="details of the end device type">
</figure>

<p>For the <strong>Provisioning information</strong>, enter the following details:</p>
<ul>
<li><strong>JoinEUI:</strong> <code>0000000000000000</code></li>
<li><strong>DevEUI:</strong> The Device EUI value that was previously copied from Arduino IDE Serial Monitor</li>
<li><strong>AppKey:</strong> Generate by clicking the <strong>Generate</strong> button</li>
</ul>
<p>In the device overview you can now see three parameters in the <strong>Activation information</strong> section: <strong>AppEUI</strong>, <strong>DevEUI</strong> and <strong>AppKey</strong>. You are going to need these values for the next steps.</p>
<figure><img src="/docs/devices/models/mkr1310/device-overview.png"
    alt="Device overview page with activation information highlighted">
</figure>

<h2 id="connecting-board-to-the-things-stack">Connecting board to The Things Stack</h2>
<p>Now let&rsquo;s go back to the <strong>FirstConfiguration</strong> sketch again. To be safe, reset your board and open the Arduino IDE Serial Monitor again. Once the program starts, it will start asking questions in the Serial Monitor. The first one is if you are using OTAA or ABP. We are going to use OTAA, so you can enter a <code>1</code> in the message field and hit enter. For why we are using OTAA, check <a href="https://www.thethingsindustries.com/docs/devices/concepts/abp-vs-otaa/">ABP vs OTAA</a>.</p>
<p>Then it will ask you for your <strong>APP EUI</strong> and <strong>APP KEY</strong>. Enter values for these parameters from the <strong>Activation information</strong> fields inside The Things Stack Console device overview. Once you have entered them, the device will try to connect to The Things Stack.</p>
<figure><img src="/docs/devices/models/mkr1310/monitor-prov.png"
    alt="serial monitor with message field highlighted">
</figure>

<p>Now go to The Things Stack Console <strong>Live data</strong> tab and you should see messages arriving, which should mean the device is connecting.</p>
<p>As the device payload comes to The Things Stack in a HEX format, you will need to decode it using a <a href="https://www.thethingsindustries.com/docs/integrations/payload-formatters/">payload formatter</a>. To do this, in your application on The Things Stack, navigate to <strong>Payload formatters</strong>.</p>
<figure><img src="/docs/devices/models/mkr1310/stack-pf.png"
    alt="Payload formatters highlighted">
</figure>

<p>Select the <strong>Custom Javascript formatter</strong> from the <strong>Formatter type</strong> dropdown.</p>
<p>Enter the following code in the <strong>Formatter code</strong> field:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">Decoder</span><span class="p">(</span><span class="nx">bytes</span><span class="p">,</span> <span class="nx">port</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"> <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">result</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="nx">i</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="k">return</span> <span class="p">{</span> <span class="nx">payload</span><span class="o">:</span> <span class="nx">result</span><span class="p">,</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>That was it! Now you can check out our <a href="https://www.thethingsindustries.com/docs/devices/models/mkr1310/temp/">example project</a> or start creating your own.</p>
        </div>
          <div class="columns is-multiline">
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/devices/models/mkr1310/temp/">Monitoring Temperature with MKR WAN 1310</a>
          </h1>
          <div class="content has-text-grey">
            
            In this section we present an example project where we show how to connect a temperature and humidity sensor to the MKR WAN 1310 device to send the data to The Things Stack and decode it.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/devices/models/mkr1310/temp/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
</div>

          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/devices/models/">← Models</a>
<a class="button is-pulled-right" href="/docs/devices/models/mkr1310/temp/">Monitoring Temperature with MKR WAN 1310 →</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#setting-up-arduino-ide'>Setting up Arduino IDE</a></li>
    
      
      <li><a href='#registering-on-the-things-stack'>Registering on The Things Stack</a></li>
    
      
      <li><a href='#connecting-board-to-the-things-stack'>Connecting board to The Things Stack</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-third">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/the-things-stack/">The Things Stack</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
        <p><a class="" href="/docs/api/">API</a></p>
      </nav>
      <nav class="column is-one-third">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
      </nav>
      
      <nav class="column is-one-third">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.3bf0da17f5ab4cc0f916662c2d2f977f7fa7259b4483f7f9eb46e875a556cc43.js" integrity="sha256-O/DaF/WrTMD5FmYsLS&#43;Xf3&#43;nJZtEg/f560bodaVWzEM=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
