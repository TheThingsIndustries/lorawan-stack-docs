<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>The Things Stack Setup | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://thethingsstack.io/integrations/cloud-integrations/ubidots/tts-setup/" />
  <link rel="alternate icon" href="/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="https://thethingsstack.io/css/theme.min.9835fa4d3cf6ec9a456f001bc45ec24ab74b80de487e212542e2b2c9770d1229.css" integrity="sha256-mDX6TTz27JpFbwAbxF7CSrdLgN5IfiElQuKyyXcNEik="><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="The Things Stack Setup">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="The Things Stack Setup">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://thethingsstack.io/integrations/cloud-integrations/ubidots/tts-setup/">
  <meta name="twitter:title" content="The Things Stack Setup" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img class="logo" src="/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.10</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/devices/">Devices</a>
        <a class="navbar-item" href="/gateways/">Gateways</a>
        <a class="navbar-item" href="/integrations/">Integrations</a>
        <a class="navbar-item" href="/reference/">Reference</a>
      </div>
      <div class="navbar-end">
        <div class="navbar-item">
          <a class="button is-primary" href="/download/">Get The Things Stack</a>
        </div>
      </div>
    </div>
  </div>
</nav>
<section class="search-container">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column">
          <div class="field has-addons has-addons-centered">
            <div class="control">
              <input class="input search-bar" id="search-input" type="text" placeholder="Search" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: "4372282a02970d8402d43457bf95d486",
indexName: "thethingsstack",
inputSelector: '#search-input',
debug: false 
});
</script>

<main>
<section class="section">
  <div class="container">
    <div class="columns">
      
      <div class="column is-one-third">


<h2 class="title is-size-4">Ubidots</h2>

<ul class="menu-list">
<a href="https://thethingsstack.io/integrations/cloud-integrations/ubidots/" class="">Overview</a>
<li>
  <a href="https://thethingsstack.io/integrations/cloud-integrations/ubidots/ubidots-setup/" class="">Ubidots Setup</a>
</li>
<li>
  <a href="https://thethingsstack.io/integrations/cloud-integrations/ubidots/tts-setup/" class="is-active">The Things Stack Setup</a>
</li>
</ul>





      </div>
      
      <div class="column is-two-thirds">

<h1 class="title is-size-2">The Things Stack Setup</h1>

<div class="content">

<p>This section contains the instructions for defining an uplink payload formatter and creating a Webhook integration on The Things Stack.</p>
<h2 id="defining-an-uplink-payload-formatter">Defining an Uplink Payload Formatter</h2>
<p>To allow our Ubidots function to interpret the payload coming from The Things Stack, the payload needs to be decoded. To do this, we use an uplink payload formatter which decodes the payload and stores the results in a <code>decoded_payload</code> field of the <code>uplink_message</code> object.</p>
<p>For more information on message payload formatters, see <a href="https://thethingsstack.io/integrations/payload-formatters/">Payload Formatters</a>.</p>
<p>For this guide, we will use the following example JavaScript payload formatter, which converts a byte encoded temperature and humidity to human readable fields.</p>
<pre><code>function Decoder(bytes, fport) {
  var decoded = {};

  var temp = (bytes[0] &lt;&lt; 8) | bytes[1];
  var hum = (bytes[2] &lt;&lt; 8) | bytes[3];
  
  decoded.temperature = temp / 100;
  decoded.humidity = hum / 100;

  return decoded;
}
</code></pre><p>You should adjust the decoded based on the payload that your device is sending.</p>
<h2 id="creating-a-webhook-integration">Creating a Webhook Integration</h2>
<blockquote>
<p>Note: this section follows the <a href="https://thethingsstack.io/integrations/webhooks/">HTTP Webhooks</a> guide.</p>
</blockquote>
<p>Fill in the <strong>Webhook ID</strong> field and choose <strong>JSON</strong> for <strong>Webhook format</strong>.</p>
<p>Create a <strong>Content-type</strong> header with <strong>application/json</strong> value.</p>
<p>Paste the copied URL of your Ubidots function to <strong>Base URL</strong> field.</p>
<p>Check the uplink message type and select <strong>Add Webhook</strong> to finish creating an integration.</p>
<figure>
    <img src="ubidots-webhook-creation.png"
         alt="Ubidots webhook"/> 
</figure>

<p>Once you have created the integration, navigate to <strong>Devices</strong> tab in Ubidots dashboard and select <strong>Devices</strong>.</p>
<p>You should see your device listed, as it is automatically added when an uplink is received. Click the device to see variables and their latest values.</p>
</div>



<script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>


<div class="is-clearfix">
<a class="button is-pulled-left" href="/integrations/cloud-integrations/ubidots/ubidots-setup/">‚Üê Ubidots Setup</a>
</div>




      </div>
    </div>
  </div>
</section>
</main>

<footer class="footer background-footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/getting-started/">Getting Started</a></p>
        <p><a class="" href="/devices/">Devices</a></p>
        <p><a class="" href="/gateways/">Gateways</a></p>
        <p><a class="" href="/integrations/">Integrations</a></p>
        <p><a class="" href="/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsNetwork/lorawan-stack">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Johan Stokking on 27 Oct 2020.
  <br>
  <a href="https://github.com/TheThingsNetwork/lorawan-stack/commit/72723bc46020f89f89a1943930b4cbea02232511">
      doc: Remove component weights
    </a>
</p>

<a href="https://github.com/TheThingsNetwork/lorawan-stack/blob/default/doc/content/integrations/cloud-integrations/ubidots/tts-setup/_index.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://thethingsstack.io/js/theme.min.4feb1389331adbef9047157f884dbdbd63af1c61ac83f327e60eef42f999cb26.js" integrity="sha256-T&#43;sTiTMa2&#43;&#43;QRxV/iE29vWOvHGGsg/Mn5g7vQvmZyyY="></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
