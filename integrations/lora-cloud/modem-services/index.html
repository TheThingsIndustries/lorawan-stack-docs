<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.112.3">
  <title>LoRa Cloud Modem Services | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/integrations/lora-cloud/modem-services/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.352ede3cf707e33d0e7305991a2a3d6da56e6f8a602acb8c295497963535ecdc.css" integrity="sha256-NS7ePPcH4z0OcwWZGio9baVub4pgKsuMKVSXljU17Nw=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="LoRa Cloud Modem Services">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="LoRa Cloud Modem Services">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/integrations/lora-cloud/modem-services/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="LoRa Cloud Modem Services" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.7.2/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/the-things-stack/">The Things Stack</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://accounts.thethingsindustries.com/fee-calculator">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Integrations</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/integrations/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/adding-applications/" class="">Adding Applications</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/adding-integrations/" class="">Adding Integrations</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/cloud-integrations/" class="">Cloud Integrations</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/mqtt/" class="">MQTT Server</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/pubsub/" class="">Pub/Sub</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/lora-cloud/" class="">LoRa Cloud</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/integrations/lora-cloud/portal/" class="">LoRa Cloud Setup</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/integrations/lora-cloud/geolocation-services/" class="">LoRa Cloud Geolocation Services</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/integrations/lora-cloud/modem-services/" class="is-active">LoRa Cloud Modem Services</a>
    
    



    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/node-red/" class="">Node-RED</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/ifttt/" class="">IFTTT</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/guides/" class="">Guides</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/payload-formatters/" class="">Payload Formatters</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/storage/" class="">Storage Integration</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/integrations/webhooks/" class="">Webhooks</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        <h1 class="title is-size-2">LoRa Cloud Modem Services
          
        </h1>
        
        <div class="content">
          <p><a href="https://www.loracloud.com/portal/device_management/home">LoRa Cloud Modem Services</a> complement your device management solution by giving you fine grain control of your LoRaWAN® end devices. It allows to obtain modem status information such as: system status, firmware version, voltage, downlink signal quality and time since last downlink.</p>
<p>LoRa Cloud Modem Services protocol lets you manage common device functionality at the application layer for all LoRa-based devices, and manage geolocation for modem-based devices (like <a href="https://www.loracloud.com/documentation/device_management?url=overview.html#lora-edge-lr1110-solution">LoRa Edge LR1110 Solution</a>). These services also provide protocols for reliable application data reception from all Semtech&rsquo;s LoRaWAN-compatible devices, with efficient techniques to fight against packet loss.</p>
<p>In general, LoRa Cloud Modem Services do not interact directly with network servers to retrieve uplinks or schedule downlinks, so it is usually users&rsquo;s responsibility to forward uplinks towards and schedule downlinks from LoRa Cloud as a part of the response.</p>
<p>However, when it comes to geolocation for modem-based devices, The Things Stack integration with LoRa Cloud Modem Services handles this on behalf of the user, i.e. it queries the protocol engine on LoRa Cloud in order to retrieve the response. This way, after the integration is configured and the uplink message containing scanning result is sent from the device, the user only has to monitor results in The Things Stack.</p>
<p>Before proceding with this guide, make sure you have completed the <a href="https://www.thethingsindustries.com/docs/integrations/lora-cloud/portal/">LoRa Cloud Setup</a> guide.</p>
<h2 id="configure-lora-cloud-modem-services-integration">Configure LoRa Cloud Modem Services Integration</h2>
<p>To setup LoRa Cloud Modem Services integration, navigate to your application in The Things Stack.</p>
<p>On the left hand menu, select <strong>Integrations → LoRa Cloud</strong>. Click the <strong>Expand</strong> button next to the <strong>Modem Services</strong>.</p>
<p>Next, copy the token you previously created in LoRa Cloud Modem &amp; Geolocation Services portal and paste it in the <strong>Token</strong> field.</p>
<figure><img src="../copy-token.png"
         alt="Copy the token from LoRa Cloud"/>
</figure>

<p>Finish by clicking the <strong>Set token</strong> button.</p>
<figure><img src="../paste-token-modem.png"
         alt="Paste the token in The Things Stack"/>
</figure>

<h2 id="obtain-location-solutions">Obtain Location Solutions</h2>
<p>For LR1110 modem-based devices, location of the device can be estimated using Wi-Fi, assisted GNSS and autonomous GNSS scans. This section will show you how to obtain the location estimates using Wi-Fi and assisted GNSS scans.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  Please keep in mind that this guide does not refer to  LoRa Cloud Geolocation. In case you are looking for geolocation solutions that use RSSI and TOA metadata, or you are using LR1110-based device with transceiver firmware (instead of Modem-E firmware), you should follow the <a href="https://www.thethingsindustries.com/docs/integrations/lora-cloud/geolocation-services/">LoRa Cloud Geolocation guide</a>.
</div>

<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  The number of (useful) satellites detected when running the autonomous GNSS scan might not be enough to calculate the position of your device, so we will not include that case in this guide. However, if you want to read more about it, follow <a href="https://lora-developers.semtech.com/learning-center/hands-on-labs/build-end-to-end-solution-using-lorawan-and-loraedge/find-the-location-of-your-tracking-device/#run-an-autonomous-gnss-scan-and-send-results">this guide</a>.
</div>

<p>After you obtain the location results, you can further integrate your The Things Stack application with other third-party IoT platforms to visualize them, etc.</p>
<h3 id="wi-fi-scans">Wi-Fi Scans</h3>
<p>To learn how to perform Wi-Fi scans with LoRa Edge LR1110 device, follow <a href="https://lora-developers.semtech.com/learning-center/hands-on-labs/build-end-to-end-solution-using-lorawan-and-loraedge/find-the-location-of-your-tracking-device/#run-a-wi-fi-scan-and-send-results">this guide</a>.</p>
<p>At this point, when your device performs a Wi-Fi scan and sends the resulting data in an uplink message, you will notice the location estimation results present in the <code>Location solved</code> message in The Things Stack <strong>Live data</strong> tab, as shown below.</p>
<figure><img src="../wifi-scan-result.png"
         alt="Location estimation result from a WiFi scan"/>
</figure>

<p>Notice the <code>Source: WIFI_RSSI_GEOLOCATION</code> which indicates the type of scan your device is performing.</p>
<div class="notification is-warning is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
  Keep in mind that the Wi-Fi triangulation is performed here, so you will be able to obtain location estimates only if your device&rsquo;s Wi-Fi scan resulted in 3 or more MAC addresses. If this is not the case, you will not see the <code>Location solved</code> message in The Things Stack <strong>Live data</strong> view, but you will not see any errors either.
</div>

<h3 id="assisted-gnss-scans">Assisted GNSS Scans</h3>
<p>To learn how to perform GNSS assisted scans with LoRa Edge LR1110 device, follow <a href="https://lora-developers.semtech.com/learning-center/hands-on-labs/build-end-to-end-solution-using-lorawan-and-loraedge/find-the-location-of-your-tracking-device/#configure-and-run-an-assisted-gnss-scan-and-send-results">this guide</a>.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  Keep in mind that in order to perform an assisted GNSS scan, you have to provide the approximate location coordinates to the LoRa Edge LR1110 device.
</div>

<p>Same as in the subsection above, when your device performs an assisted GNSS scan and sends the associated data in an uplink message, you will notice the location estimation results present in the <code>Location solved</code> message in The Things Stack <strong>Live data</strong> tab, as shown below.</p>
<figure><img src="../gnss-assisted-scan-result.png"
         alt="Location estimation result from an assisted GNSS scan"/>
</figure>

<p>Notice the <code>Source: GPS</code> which indicates the type of scan your device is performing.</p>
<div class="notification is-warning is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
  <p>The device&rsquo;s active GNSS antenna should be placed outdoors in order to be able to detect as much satellites as possible.</p>
<p>If you do not receive the <code>Location solved</code> message, it is possible that LoRa Cloud GNSS solver could not resolve your device&rsquo;s location. To verify, check the <code>log_messages</code> object in the <code>Service data</code> messages. You might see errors such as:</p>
<ul>
<li><code>Not enough received or usable satellites, totalReceived=4, usableGPS=3, usableBDS=0</code> if there is too few detected and/or usable satellites</li>
<li><code>Location fix dropped due to poor accuracy, caused most likely by big error in pseudo-ranges or timestamp</code> if the accuracy of the resulting location is too low</li>
</ul>
<p>If you are facing these errors, keep repeating the scan and re-sending results periodically until GNSS solver manages to resolve your device&rsquo;s location. Be aware that there is a high chance your device&rsquo;s battery will drain much faster if you are frequently repeating these steps.</p>

</div>

<h2 id="send-requests-from-lora-cloud">Send Requests from LoRa Cloud</h2>
<p>Besides estimating the location of your device, you can also send requests from LoRa Cloud portal to mute or reset the device, trigger it for a re-join, set ADR profile or obtain information like temperature, voltage, signal strength, status, etc. In this section, we demonstrate how to send a request to obtain information from your device.</p>
<p>To send a request, navigate to <strong>Manage devices</strong> on the left hand menu in the LoRa Cloud Modem Services portal.</p>
<p>Click on the <strong>Send requests</strong> button.</p>
<figure><img src="../send-requests.png"
         alt="Send requests from LoRa Cloud portal"/>
</figure>

<p>Enter your device&rsquo;s EUI in the <strong>EUI(S)</strong> field and choose <strong>Get Info</strong> as a <strong>Request type</strong>. Tick the boxes next to the information you want to obtain from your device.</p>
<p>Schedule the request to be sent by clicking the <strong>Send requests</strong> button.</p>
<figure><img src="../get-info.png"
         alt="Get Info request"/>
</figure>

<p>After a few moments, click on a reload button to refresh the device information in the <strong>Manage devices</strong> view. You can already see that the <strong>Status</strong> is changed to <strong>Joined: Yes</strong>, as well as the time of the <strong>Last Uplink</strong>, <strong>Signal RSSI</strong> and <strong>Signal SNR</strong>.</p>
<p>Click the <strong>&gt;</strong> button next to your device to see all the information that was obtained from the device.</p>
<figure><img src="../full-info.png"
         alt="Show full info"/>
</figure>
        </div>
        <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/integrations/lora-cloud/geolocation-services/">← LoRa Cloud Geolocation Services</a>
<a class="button is-pulled-right" href="/docs/integrations/node-red/">Node-RED →</a>
</div>

        <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#configure-lora-cloud-modem-services-integration'>Configure LoRa Cloud Modem Services Integration</a></li>
    
      
      <li><a href='#obtain-location-solutions'>Obtain Location Solutions</a></li>
    
      
      <li><a href='#send-requests-from-lora-cloud'>Send Requests from LoRa Cloud</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-third">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/the-things-stack/">The Things Stack</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-third">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
      </nav>
      
      <nav class="column is-one-third">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.4a22f0dea0620048bc258cf6dedbdfbec40f3b5dba1dcdc6536e61e7bc20a5bf.js" integrity="sha256-SiLw3qBiAEi8JYz23tvfvsQPO126Hc3GU25h57wgpb8=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
