name: ApplicationUplink
fields:
- name: session_key_id
  comment: Join Server issued identifier for the session keys used by this uplink.
  type: bytes
  rules:
    max_len: 2048
  default: ""
- name: f_port
  comment: LoRaWAN FPort of the uplink message.
  type: uint32
  rules:
    lte: 255
    not_in:
    - 224
  default: 0
- name: f_cnt
  comment: LoRaWAN FCntUp of the uplink message.
  type: uint32
  default: 0
- name: frm_payload
  comment: |-
    The frame payload of the uplink message.
    The payload is still encrypted if the skip_payload_crypto field of the EndDevice
    is true, which is indicated by the presence of the app_s_key field.
  type: bytes
  default: ""
- name: decoded_payload
  comment: |-
    The decoded frame payload of the uplink message.
    This field is set by the message processor that is configured for the end device (see formatters) or application (see default_formatters).
  message:
    package: google.protobuf
    name: Struct
  default: {}
- name: decoded_payload_warnings
  comment: Warnings generated by the message processor while decoding the frm_payload.
  repeated:
    type: string
  default: []
- name: normalized_payload
  comment: |-
    The normalized frame payload of the uplink message.
    This field is set by the message processor that is configured for the end device (see formatters) or application (see default_formatters).
    If the message processor is a custom script, there is no uplink normalizer script and the decoded output is valid
    normalized payload, this field contains the decoded payload.
  repeated:
    message:
      package: google.protobuf
      name: Struct
  default: []
- name: normalized_payload_warnings
  comment: Warnings generated by the message processor while normalizing the decoded
    payload.
  repeated:
    type: string
  default: []
- name: rx_metadata
  comment: A list of metadata for each antenna of each gateway that received this
    message.
  repeated:
    message:
      name: RxMetadata
  default: []
- name: settings
  comment: Transmission settings used by the end device.
  message:
    name: TxSettings
  rules:
    required: true
  default: {}
- name: received_at
  comment: Server time when the Network Server received the message.
  message:
    package: google.protobuf
    name: Timestamp
  default: "0001-01-01T00:00:00Z"
- name: app_s_key
  comment: |-
    The AppSKey of the current session.
    This field is only present if the skip_payload_crypto field of the EndDevice
    is true.
    Can be used to decrypt uplink payloads and encrypt downlink payloads.
  message:
    name: KeyEnvelope
  default: {}
- name: last_a_f_cnt_down
  comment: |-
    The last AFCntDown of the current session.
    This field is only present if the skip_payload_crypto field of the EndDevice
    is true.
    Can be used with app_s_key to encrypt downlink payloads.
  type: uint32
  default: 0
- name: confirmed
  comment: Indicates whether the end device used confirmed data uplink.
  type: bool
  default: false
- name: consumed_airtime
  comment: Consumed airtime for the transmission of the uplink message. Calculated
    by Network Server using the raw payload size and the transmission settings.
  message:
    package: google.protobuf
    name: Duration
  default: 0s
- name: packet_error_rate
  comment: |-
    Packet error rate of the recent uplinks in the current session.
    Calculated by the Network Server. The value is defined in the [0, 1] interval.
  type: float
  default: 0
- name: locations
  comment: End device location metadata, set by the Application Server while handling
    the message.
  map_key:
    type: string
  map_value:
    message:
      name: Location
  default: {}
- name: version_ids
  comment: End device version identifiers, set by the Application Server while handling
    the message.
  message:
    name: EndDeviceVersionIdentifiers
  default: {}
- name: network_ids
  comment: Network identifiers, set by the Network Server that handles the message.
  message:
    name: NetworkIdentifiers
  default: {}
