<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.134.2">
  <title>Docker | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/enterprise/docker/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.d3f3815ed6609abc2ba6d0d6e3be8af6f52947117280c3cf9fbd8f5ff6ffb058.css" integrity="sha256-0/OBXtZgmrwrptDW476K9vUpRxFygMPPn72PX/b/sFg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Docker">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Docker">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/enterprise/docker/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="Docker" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.10.1/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/concepts/">Concepts</a>
        <a class="navbar-item" href="/docs/cloud/">The Things Stack Cloud</a>
        <a class="navbar-item" href="/docs/enterprise/">The Things Stack Enterprise</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/api/">API</a>
        <a class="navbar-item" href="/docs/hardware/">Hardware</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://www.thethingsindustries.com/stack/plans/" target="_blank">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">The Things Stack Enterprise</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/enterprise/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/aws/" class="">AWS</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/kubernetes/" class="">Kubernetes</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/" class="is-active">Docker</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/configuration/" class="">Configuration</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/certificates/" class="">Certificates</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/running-the-stack/" class="">Running The Things Stack</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/proxy/" class="">Proxy</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/troubleshooting/" class="">Troubleshooting Installation</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/upgrading/" class="">Upgrading The Things Stack</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/docker/balena/" class="">Balena</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/join-server/" class="">The Things Join Server</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/enterprise/management/" class="">Manage The Things Stack</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        
        
          <div class="content-tags">
            
              
              





  
    
  

  
    
  



  

  

<a href="/docs/getting-started/what-is-tts#the-things-stack-deployments" target="_blank" class="badge-stack">

  <img class="badge" src="/docs/img/tts_frames/frame_enterprise.svg"></img>

  <img class="badge" src="/docs/img/tts_frames/frame_open_source.svg"></img>

</a>


            
            
            
            
          </div>
        
        <h1 class="title is-size-2">Docker</h1>
        <div class="content">
          <p>This is a guide for installing The Things Stack Enterprise or Open Source on your own hardware using Docker, to run your own private LoRaWAN¬Æ network server.</p>
<p>There are several ways to run The Things Stack.</p>
<p>The Things Stack Open Source and Enterprise distributions are designed to run on your own hardware, which this guide covers.</p>
<p>Alternatively, to use The Things Stack in the cloud without installing it on your own hardware, see <a href="/docs/cloud/">The Things Stack Cloud</a> (our professional, SLA-backed offering) or <a href="/docs/concepts/ttn/">The Things Stack Sandbox</a> (our free-to-use The Things Stack Sandbox). To spin up your own EC2 instance, there is also an <a href="/docs/enterprise/aws/">AWS Launcher</a>. To install using balenaCloud on a Rasperry Pi, see the <a href="/docs/enterprise/docker/balena/">Balena</a> section.</p>
<p>For highly available production cloud deployments with high throughput, we recommend using The Things Stack Cloud or AWS Launcher. All deployments of The Things Stack except Open Source and AWS Launcher support multi-tenancy, which allows you to create multiple private network servers within a single deployment, for example to resell to individual clients.</p>
<p>Continue following these instructions to run The Things Stack Enterprise or Open Source on your own hardware, using Docker.</p>
<p>In addition to the following written instructions, video instructions for installing The Things Stack are available on <a href="https://www.youtube.com/watch?v=DcmgJMvMfZc">The Things Network youtube channel</a>.</p>
<details><summary>Show video</summary>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/DcmgJMvMfZc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

</details>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>A server with a recommended 4 virtual CPUs and 16GB RAM running <a href="https://docs.docker.com/engine/">Docker</a> and <a href="https://docs.docker.com/compose/">Docker Compose</a>*</li>
<li>DNS records pointing to your server&rsquo;s IP address (skip if using <code>localhost</code>)</li>
<li>A <a href="https://thethingsindustries.com/technology/pricing">license</a> for The Things Stack (only for Enterprise)</li>
</ol>
<p>*Benchmark for 100K devices with 12 confirmed uplinks per day. Your requirements will vary depending on your load and desired redundancy.</p>
<p>If purchasing an Enterprise license, consider setting up a multi-tenant environment from the beginning if you plan to add tenants later. Switching from a a single-tenant to multi-tenant environment requires database migration.</p>
<p>For multi-tenant deployments, DNS records for <code>*.domain</code> need to be created in addition to the plain <code>domain</code> record. For offline deployments, internal DNS pointing to your server&rsquo;s IP address can be used, and The Things Industries can provide a license for that domain name.</p>
<p>This guide shows you how to get everything up and running on a server. If you are comfortable with configuring servers and working with command line, this is the perfect place to start, but first, follow the guides to <a href="https://docs.docker.com/install/#supported-platforms">install Docker</a>, to <a href="https://docs.docker.com/compose/install/#install-compose">install Docker Compose</a>, and to <a href="https://docs.docker.com/engine/install/linux-postinstall/">configure permissions for Docker Engine</a>.</p>
<p>Next, see instructions on how to <a href="https://www.thethingsindustries.com/docs/enterprise/docker/configuration/">configure</a>, set up <a href="https://www.thethingsindustries.com/docs/enterprise/docker/certificates/">certificates</a> and finally <a href="https://www.thethingsindustries.com/docs/enterprise/docker/running-the-stack/">run The Things Stack</a>!</p>
        </div>
          <div class="columns is-multiline">
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/enterprise/docker/configuration/">Configuration</a>
          </h1>
          <div class="content has-text-grey">
            
            This guide shows an example of configuring The Things Stack using configuration files, with an example domain thethings.example.com and TLS certificates from Let&rsquo;s Encrypt.
If configuring The Things Stack as localhost on a machine with no public IP or DNS address, see the localhost section.
In addition to the written instructions below, video instructions for installing The Things Stack are available on The Things Network youtube channel.
Show video Configuration Files The Things Stack requires two configuration files when installing with Docker: docker-compose.yml and ttn-lw-stack-docker.yml. The files are provided below:

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/enterprise/docker/configuration/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/enterprise/docker/certificates/">Certificates</a>
          </h1>
          <div class="content has-text-grey">
            
            The Things Stack has built in support for Transport Layer Security (TLS) and HTTPS. This requires a TLS certificate and a corresponding key. For using The Things Stack behind an external proxy that can terminate TLS see the proxy section.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/enterprise/docker/certificates/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/enterprise/docker/running-the-stack/">Running The Things Stack</a>
          </h1>
          <div class="content has-text-grey">
            
            Now that all configuration is done, you are ready to initialize The Things Stack and start it!
Begin by opening a terminal prompt in the same directory as your docker-compose.yml file.
Initialization The first time The Things Stack is started, it requires some initialization. Start by pulling the Docker images:
docker compose pull Next, you need to initialize the database of the Identity Server:
docker compose run --rm stack is-db migrate If you receive a permissions error, ensure you have correctly configured permissions for Docker Engine.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/enterprise/docker/running-the-stack/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/enterprise/docker/proxy/">Proxy</a>
          </h1>
          <div class="content has-text-grey">
            
            The Things Stack can work with an external proxy that can terminate TLS connections.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/enterprise/docker/proxy/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/enterprise/docker/troubleshooting/">Troubleshooting Installation</a>
          </h1>
          <div class="content has-text-grey">
            
            This section contains help for common issues you may encounter while installing The Things Stack.
Component address is not included in this license Ensure that you configure the is.oauth.ui.canonical-url with a domain that matches the domain in your license. See the Configuration Reference for more information about the configuration options.
Version in &ldquo;docker-compose.yml&rdquo; is unsupported Our docker-compose.yml file uses Compose file version 3.7. If using a package manager to install Docker Compose, it is possible to install an old, unsupported version. See Docker&rsquo;s installation instructions to upgrade to a more recent version.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/enterprise/docker/troubleshooting/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
            <div class="content-tags">
              
                





  
    
  

  
    
  



  

  

<a href="/docs/getting-started/what-is-tts#the-things-stack-deployments" target="_blank" class="badge-stack">

  <img class="badge" src="/docs/img/tts_frames/frame_enterprise.svg"></img>

  <img class="badge" src="/docs/img/tts_frames/frame_open_source.svg"></img>

</a>


              
              
              
              
            </div>
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/enterprise/docker/upgrading/">Upgrading The Things Stack</a>
          </h1>
          <div class="content has-text-grey">
            
            This section contains instructions to upgrade a The Things Stack Enterprise or Open Source deployment.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/enterprise/docker/upgrading/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
            <div class="content-tags">
              
                





  
    
  



  

<a href="/docs/getting-started/what-is-tts#the-things-stack-deployments" target="_blank" class="badge-stack">

  <img class="badge" src="/docs/img/tts_frames/frame_open_source.svg"></img>

</a>


              
              
              
              
            </div>
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/enterprise/docker/balena/">Balena</a>
          </h1>
          <div class="content has-text-grey">
            
            The Things Stack Open Source can also be installed on a Raspberry Pi 3 or 4 running balena.
To run The Things Stack you need to deploy it to a balenaCloud fleet. This can be done by by clicking the button below:
First, follow the instructions in your balenaCloud dashboard and click Create and deploy.
Then, click Add device and configure the balenaOS file by filling in the presented form. Click Download balenaOS to download the resulting OS file and flash it to an SD card. Insert the SD card into your Raspberry Pi, connect it to the Internet and power it up. Enjoy the magic üåüOver-The-Airüåü!

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/enterprise/docker/balena/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
</div>

          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/enterprise/kubernetes/azure/">‚Üê Azure</a>
<a class="button is-pulled-right" href="/docs/enterprise/docker/configuration/">Configuration ‚Üí</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#prerequisites'>Prerequisites</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Sections</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/concepts/">Concepts</a></p>
        <p><a class="" href="/docs/cloud/">The Things Stack Cloud</a></p>
        <p><a class="" href="/docs/enterprise/">The Things Stack Enterprise</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/api/">API</a></p>
        <p><a class="" href="/docs/hardware/">Hardware</a></p>
      </nav>
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Sitemap</h3>
        <p><a class="" href="https://www.thethingsindustries.com/docs/sitemap/">View our Sitemap</a></p>
      </nav>
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
      </nav>
      
      <nav class="column is-one-fourth">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.3bf0da17f5ab4cc0f916662c2d2f977f7fa7259b4483f7f9eb46e875a556cc43.js" integrity="sha256-O/DaF/WrTMD5FmYsLS&#43;Xf3&#43;nJZtEg/f560bodaVWzEM=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
