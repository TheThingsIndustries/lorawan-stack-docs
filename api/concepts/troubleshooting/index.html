<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.140.0-DEV">
  <title>Troubleshooting | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/api/concepts/troubleshooting/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.d3f3815ed6609abc2ba6d0d6e3be8af6f52947117280c3cf9fbd8f5ff6ffb058.css" integrity="sha256-0/OBXtZgmrwrptDW476K9vUpRxFygMPPn72PX/b/sFg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="Troubleshooting API">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Troubleshooting">
  <meta itemprop="description" content="Troubleshooting API">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Troubleshooting">
  <meta property="og:description" content="Troubleshooting API">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/api/concepts/troubleshooting/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="Troubleshooting" />
  <meta name="twitter:description" content="Troubleshooting API" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.10.1/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/concepts/">Concepts</a>
        <a class="navbar-item" href="/docs/cloud/">The Things Stack Cloud</a>
        <a class="navbar-item" href="/docs/enterprise/">The Things Stack Enterprise</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/api/">API</a>
        <a class="navbar-item" href="/docs/hardware/">Hardware</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://www.thethingsindustries.com/stack/plans/" target="_blank">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">API</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/api/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/api/concepts/" class="">Concepts</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/api/concepts/auth/" class="">Authentication</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/api/concepts/fieldmasks/" class="">Field masks</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/api/concepts/pagination/" class="">Pagination</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/api/concepts/errors/" class="">Errors</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/api/concepts/lora-gateway/" class="">LoRa® Gateway specific APIs</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/api/concepts/troubleshooting/" class="is-active">Troubleshooting</a>
    
    



    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/api/reference/" class="">Reference</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        
        
        <h1 class="title is-size-2">Troubleshooting</h1>
        <div class="content">
          <p>This section provides help for common issues and frequently asked questions you may have when using the API.</p>
<h6 id="forbidden-paths-in-field-mask-error">&ldquo;Forbidden path(s) in field mask&rdquo; error</h6>
<p>This error usually occurs when wrong path(s) are specified in the <code>field_mask</code> object in the API request body. See <a href="https://www.thethingsindustries.com/docs/api/concepts/fieldmasks/">Fields and Field Masks</a> section and make sure that paths listed under your <code>field_mask</code> are correct.</p>
<h6 id="when-adding-a-device-i-get-an-invalid-end_device-embedded-message-failed-validation-error">When adding a device, I get an &ldquo;invalid end_device: embedded message failed validation&rdquo; error.</h6>
<p>The most common cause for this error is not following the regex pattern in the <code>device_id</code> field. See <a href="https://www.thethingsindustries.com/docs/api/reference/grpc/end_device/#message:EndDeviceIdentifiers">End Device APIs</a> section and make sure your <code>device_id</code> is in line with the defined regex pattern. See also <a href="https://www.thethingsindustries.com/docs/concepts/architecture/id-eui-constraints/">ID and EUI constraints</a> documentation.</p>
<h6 id="listing-gateways-via-api-call-works-for-the-eu1-the-things-stack-cloud-cluster-but-wont-work-for-the-nam1-cluster">Listing gateways via API call works for the eu1 The Things Stack Cloud cluster, but won&rsquo;t work for the nam1 cluster.</h6>
<p>Unlike other server components, the Identity Server component of The Things Stack is hosted only in the <code>eu1</code> cluster for <a href="https://www.thethingsindustries.com/docs/concepts/server-addresses/#api-endpoints">The Things Stack Cloud</a> and <a href="https://www.thethingsindustries.com/docs/concepts/ttn/addresses/#api-endpoints">The Things Stack Sandbox</a>. This is the reason why Identity Server API request to any cluster other than <code>eu1</code> will fail.</p>
<h6 id="426-upgrade-required-error">&ldquo;426 Upgrade Required&rdquo; error</h6>
<p>This error indicates that the client HTTP protocol version is old, so the server refuses to perform the request and requires a client update to HTTP 1.1 version or higher.</p>
<h6 id="no_application_rights-or-no_user_rights-error">&ldquo;no_application_rights&rdquo; or &ldquo;no_user_rights&rdquo; error</h6>
<p>The API key you are using doesn&rsquo;t have sufficient rights to perform the desired API request. It might also be caused by a missing <code>Bearer</code> keyword in the <code>Authorization</code> header used in the API call.</p>
<p>To resolve this issue, make sure your API key has necessary rights to interact with the desired entity. Also, make sure to use the <code>Bearer</code> keyword when specifying the <code>Authorization</code> header.</p>
<h6 id="api_key_not_found-error">&ldquo;api_key_not_found&rdquo; error</h6>
<p>This error indicates that the specified API key used for the API call is not valid or doesn&rsquo;t exist at all. Double-check that the API key you provided is correct and still valid. If it is expired, you can generate a new API key and update your API call request with the new one.</p>
<h6 id="unauthenticated-error">&ldquo;unauthenticated&rdquo; error</h6>
<p>This error occurs when the API request is made without proper authentication credentials. Make sure to include the correct API key in the authentication request header.</p>
<h6 id="url-using-badillegal-format-or-missing-url-error">&ldquo;URL using bad/illegal format or missing URL&rdquo; error</h6>
<p>The URL format in the API call command is incorrect or missing. Please make sure that the URL syntax is correct, that it includes all necessary parameters and that the specified endpoint is properly configured.</p>
        </div>
          <div class="columns is-multiline">
</div>

          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/api/concepts/lora-gateway/">← LoRa® Gateway specific APIs</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    



  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Sections</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/concepts/">Concepts</a></p>
        <p><a class="" href="/docs/cloud/">The Things Stack Cloud</a></p>
        <p><a class="" href="/docs/enterprise/">The Things Stack Enterprise</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/api/">API</a></p>
        <p><a class="" href="/docs/hardware/">Hardware</a></p>
      </nav>
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Sitemap</h3>
        <p><a class="" href="https://www.thethingsindustries.com/docs/sitemap/">View our Sitemap</a></p>
      </nav>
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
      </nav>
      
      <nav class="column is-one-fourth">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.3bf0da17f5ab4cc0f916662c2d2f977f7fa7259b4483f7f9eb46e875a556cc43.js" integrity="sha256-O/DaF/WrTMD5FmYsLS&#43;Xf3&#43;nJZtEg/f560bodaVWzEM=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
