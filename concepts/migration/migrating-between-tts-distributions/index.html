<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.134.2">
  <title>Between The Things Stack distributions | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/" />
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.d3f3815ed6609abc2ba6d0d6e3be8af6f52947117280c3cf9fbd8f5ff6ffb058.css" integrity="sha256-0/OBXtZgmrwrptDW476K9vUpRxFygMPPn72PX/b/sFg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Between The Things Stack distributions">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Between The Things Stack distributions">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/">
  <meta property="og:image" content="/docs/docs-thumbnail.png"/>
  <meta name="twitter:title" content="Between The Things Stack distributions" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NGRDCNM');</script>



  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.10.1/main.css" />
</head>


<body class="theme-tts">


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NGRDCNM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
      </a><div class="navbar-item navbar-search-menu" id="search-input-menu">
          </div>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/concepts/">Concepts</a>
        <a class="navbar-item" href="/docs/cloud/">The Things Stack Cloud</a>
        <a class="navbar-item" href="/docs/enterprise/">The Things Stack Enterprise</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/api/">API</a>
        <a class="navbar-item" href="/docs/hardware/">Hardware</a>

      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="https://www.thethingsindustries.com/stack/plans/" target="_blank">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
  <script type="text/javascript">
    docsearch({
      appId: "608OILUBK2",
      apiKey: "39082cdce449b93b2aa806b44f6af4d2",
      indexName: "thethingsstack",
      container: '#search-input-menu',
      debug: false, 
    });
  </script><div class="container" role="document">
  <div class="columns my-0 ">
      
      <div class="column is-3 is-2-desktop sidebar-left">
        

<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Concepts</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/concepts/" class="">Overview</a>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/architecture/" class="">Architecture</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/features/" class="">Features</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/networking/" class="">Networking</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/migration/" class="">Migrate to The Things Stack</a>
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/concepts/migration/exporting-end-devices/" class="">Export End Device Data</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/concepts/migration/gateway-migration/" class="">Migrating Gateways</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/" class="is-active">Between The Things Stack distributions</a>
    
    


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/establish-new-session/" class="">Migrate Without Persisting Active Session</a>
    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/migrate-active-session/" class="">Migrate Active Device Session</a>
    
  </li>

</ul>


    
  </li>

  <li>
    <a href="https://www.thethingsindustries.com/docs/concepts/migration/faq/" class="">Frequently Asked Questions</a>
    
  </li>

</ul>


    
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/packet-broker/" class="">Packet Broker</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/server-addresses/" class="">Server Addresses</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/advanced/" class="">Advanced Topics</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/troubleshooting/" class="">Troubleshooting</a>
  </li>
<li>
    <a href="https://www.thethingsindustries.com/docs/concepts/ttn/" class="">The Things Stack Sandbox</a>
  </li>
</ul>



</nav>








      </div>
      
      <div class="column is-9 is-8-desktop sidebar-middle">
        <div class="docs-content">
        
        
        <h1 class="title is-size-2">Between The Things Stack distributions</h1>
        <div class="content">
          <p>This section explains how to migrate your devices between The Things Stack distributions.</p>
<p>There are multiple methods that you can use to migrate your devices from source The Things Stack distribution to target The Things Stack distribution, depending on if you want to migrate them with or without their existing session, and how many devices you wish to migrate. These methods include using the <a href="https://www.thethingsindustries.com/docs/concepts/migration/">migration tool</a>, The Things Stack <a href="https://www.thethingsindustries.com/docs/concepts/features/console/">Console</a> or The Things Stack <a href="https://www.thethingsindustries.com/docs/concepts/features/cli/">CLI</a>.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  We highly recommend using the <a href="https://www.thethingsindustries.com/docs/concepts/migration/">migration tool</a> and <a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/establish-new-session/">migrating devices without persisting their active session</a>.
</div>

<p>Keep reading to learn how to migrate your devices using all of the above mentioned methods. As an example, we demonstrate migrating from The Things Stack Sandbox to The Things Stack Cloud.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>A user account on source The Things Stack with an application containing registered devices.</li>
<li>A user account on target The Things Stack.</li>
</ol>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  We recommend testing migration on a single end device or a small batch of end devices in order to make sure the migration process goes as expected.
</div>

<h2 id="add-application-in-target-the-things-stack">Add Application in target The Things Stack</h2>
<p>You first need to add a new application in target The Things Stack. See <a href="https://www.thethingsindustries.com/docs/integrations/adding-applications/">Adding Applications</a> for detailed instructions.</p>
<p>When adding an application in target The Things Stack, the Application ID does not have to be the same as the one in source The Things Stack.</p>
<h2 id="add-payload-formatters-and-integrations-in-target-the-things-stack">Add Payload Formatters and Integrations in target The Things Stack</h2>
<p>After creating an application in target The Things Stack, you need to add the associated elements like application-level payload formatters and integrations. Commonly, you can copy-paste payload formatters from source The Things Stack to target The Things Stack, and you can recreate all integrations on target The Things Stack in the same way as you created them on source The Things Stack.</p>
<p>See <a href="https://www.thethingsindustries.com/docs/integrations/payload-formatters/">Payload Formatters</a> and <a href="https://www.thethingsindustries.com/docs/integrations/">Integrations</a> for more info.</p>
<h2 id="migrate-end-devices-and-gateways">Migrate End Devices and Gateways</h2>
<p>Instructions for migrating your devices will differ depending on if you are using OTAA or ABP devices, and if you want to preserve their active session or not. Migrating your gateway will be needed in some cases. Choose your scenario and find the instructions in the following subsections.</p>
<p>If you experience issues with devices or gateways that you&rsquo;ve migrated, check out the <a href="https://www.thethingsindustries.com/docs/hardware/devices/troubleshooting/">Troubleshooting Devices</a> and <a href="https://www.thethingsindustries.com/docs/hardware/gateways/troubleshooting/">Troubleshooting Gateways</a> sections.</p>
        </div>
          <div class="columns is-multiline">
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/establish-new-session/">Migrate Without Persisting Active Session</a>
          </h1>
          <div class="content has-text-grey">
            
            This section explains how to migrate end devices from The Things Stack Sandbox to The Things Stack Cloud without persisting sessions that were established between those devices and The Things Stack Sandbox. This is the way to go if you cannot migrate your gateway from The Things Stack Sandbox to The Things Stack Cloud.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/establish-new-session/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half is-flex">
    <div class="card has-radius is-fullwidth">
      <div class="card-content">
        <div class="title-content">
          
          <h1 class="title is-size-5 is-uppercase"><a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/migrate-active-session/">Migrate Active Device Session</a>
          </h1>
          <div class="content has-text-grey">
            
            This section explains how to migrate end devices from The Things Stack Sandbox to The Things Stack Cloud while persisting sessions that were already established between those devices and The Things Stack Sandbox.

            
          </div>
        </div>
        <div class="buttons">
          <a href="https://www.thethingsindustries.com/docs/concepts/migration/migrating-between-tts-distributions/migrate-active-session/" class="button is-primary is-outlined">Read</a>
        </div>
      </div>
    </div>
  </div>
</div>

          <div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/concepts/migration/gateway-migration/">← Migrating Gateways</a>
<a class="button is-pulled-right" href="/docs/concepts/migration/migrating-between-tts-distributions/establish-new-session/">Migrate Without Persisting Active Session →</a>
</div>

          <script>window.emojicom_widget = { campaign: "NEDHszRC2r2KaGj1mhj7" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
        </div>
      </div>
      
      <div class="column is-hidden-touch is-2-desktop sidebar-right">
        <nav class="toc" aria-label="Page navigation">
    <h2 class="title is-size-6">On this page</h2>
    


  <ul class="menu-list">
    
      
      <li><a href='#prerequisites'>Prerequisites</a></li>
    
      
      <li><a href='#add-application-in-target-the-things-stack'>Add Application in target The Things Stack</a></li>
    
      
      <li><a href='#add-payload-formatters-and-integrations-in-target-the-things-stack'>Add Payload Formatters and Integrations in target The Things Stack</a></li>
    
      
      <li><a href='#migrate-end-devices-and-gateways'>Migrate End Devices and Gateways</a></li>
    
  </ul>


  </nav>

      </div>
      
  </div>
</div>



<footer class="footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Sections</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/concepts/">Concepts</a></p>
        <p><a class="" href="/docs/cloud/">The Things Stack Cloud</a></p>
        <p><a class="" href="/docs/enterprise/">The Things Stack Enterprise</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/api/">API</a></p>
        <p><a class="" href="/docs/hardware/">Hardware</a></p>
      </nav>
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Sitemap</h3>
        <p><a class="" href="https://www.thethingsindustries.com/docs/sitemap/">View our Sitemap</a></p>
      </nav>
      <nav class="column is-one-fourth">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
      </nav>
      
      <nav class="column is-one-fourth">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.3bf0da17f5ab4cc0f916662c2d2f977f7fa7259b4483f7f9eb46e875a556cc43.js" integrity="sha256-O/DaF/WrTMD5FmYsLS&#43;Xf3&#43;nJZtEg/f560bodaVWzEM=" crossorigin="anonymous"></script><script>
  window.intercomSettings = {
    app_id: "pp8esr7h",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pp8esr7h';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
